var ss=Object.defineProperty;var os=(e,t,s)=>t in e?ss(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s;var Gt=(e,t,s)=>(os(e,typeof t!="symbol"?t+"":t,s),s);import{r as b,a as rs,b as he}from"./vendor-b69f2a9f.js";import{u as vn,a as as,H as is,R as ls,b as ge,N as cs}from"./router-48998a99.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function s(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=s(r);fetch(r.href,a)}})();var xn={exports:{}},nt={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ds=b,us=Symbol.for("react.element"),ms=Symbol.for("react.fragment"),hs=Object.prototype.hasOwnProperty,_s=ds.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ps={key:!0,ref:!0,__self:!0,__source:!0};function yn(e,t,s){var o,r={},a=null,i=null;s!==void 0&&(a=""+s),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(o in t)hs.call(t,o)&&!ps.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:us,type:e,key:a,ref:i,props:r,_owner:_s.current}}nt.Fragment=ms;nt.jsx=yn;nt.jsxs=yn;xn.exports=nt;var n=xn.exports,wt={},At=rs;wt.createRoot=At.createRoot,wt.hydrateRoot=At.hydrateRoot;function Cn(e,t){return function(){return e.apply(t,arguments)}}const{toString:gs}=Object.prototype,{getPrototypeOf:jt}=Object,{iterator:st,toStringTag:jn}=Symbol,ot=(e=>t=>{const s=gs.call(t);return e[s]||(e[s]=s.slice(8,-1).toLowerCase())})(Object.create(null)),ne=e=>(e=e.toLowerCase(),t=>ot(t)===e),rt=e=>t=>typeof t===e,{isArray:Fe}=Array,Le=rt("undefined");function Oe(e){return e!==null&&!Le(e)&&e.constructor!==null&&!Le(e.constructor)&&J(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Sn=ne("ArrayBuffer");function fs(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&Sn(e.buffer),t}const bs=rt("string"),J=rt("function"),Nn=rt("number"),Be=e=>e!==null&&typeof e=="object",ws=e=>e===!0||e===!1,We=e=>{if(ot(e)!=="object")return!1;const t=jt(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(jn in e)&&!(st in e)},vs=e=>{if(!Be(e)||Oe(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},xs=ne("Date"),ys=ne("File"),Cs=ne("Blob"),js=ne("FileList"),Ss=e=>Be(e)&&J(e.pipe),Ns=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||J(e.append)&&((t=ot(e))==="formdata"||t==="object"&&J(e.toString)&&e.toString()==="[object FormData]"))},Ls=ne("URLSearchParams"),[Fs,Ts,Es,Is]=["ReadableStream","Request","Response","Headers"].map(ne),$s=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ke(e,t,{allOwnKeys:s=!1}={}){if(e===null||typeof e>"u")return;let o,r;if(typeof e!="object"&&(e=[e]),Fe(e))for(o=0,r=e.length;o<r;o++)t.call(null,e[o],o,e);else{if(Oe(e))return;const a=s?Object.getOwnPropertyNames(e):Object.keys(e),i=a.length;let l;for(o=0;o<i;o++)l=a[o],t.call(null,e[l],l,e)}}function Ln(e,t){if(Oe(e))return null;t=t.toLowerCase();const s=Object.keys(e);let o=s.length,r;for(;o-- >0;)if(r=s[o],t===r.toLowerCase())return r;return null}const xe=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Fn=e=>!Le(e)&&e!==xe;function vt(){const{caseless:e,skipUndefined:t}=Fn(this)&&this||{},s={},o=(r,a)=>{const i=e&&Ln(s,a)||a;We(s[i])&&We(r)?s[i]=vt(s[i],r):We(r)?s[i]=vt({},r):Fe(r)?s[i]=r.slice():(!t||!Le(r))&&(s[i]=r)};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&ke(arguments[r],o);return s}const Rs=(e,t,s,{allOwnKeys:o}={})=>(ke(t,(r,a)=>{s&&J(r)?e[a]=Cn(r,s):e[a]=r},{allOwnKeys:o}),e),Ms=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ds=(e,t,s,o)=>{e.prototype=Object.create(t.prototype,o),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),s&&Object.assign(e.prototype,s)},Os=(e,t,s,o)=>{let r,a,i;const l={};if(t=t||{},e==null)return t;do{for(r=Object.getOwnPropertyNames(e),a=r.length;a-- >0;)i=r[a],(!o||o(i,e,t))&&!l[i]&&(t[i]=e[i],l[i]=!0);e=s!==!1&&jt(e)}while(e&&(!s||s(e,t))&&e!==Object.prototype);return t},Bs=(e,t,s)=>{e=String(e),(s===void 0||s>e.length)&&(s=e.length),s-=t.length;const o=e.indexOf(t,s);return o!==-1&&o===s},ks=e=>{if(!e)return null;if(Fe(e))return e;let t=e.length;if(!Nn(t))return null;const s=new Array(t);for(;t-- >0;)s[t]=e[t];return s},Ps=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&jt(Uint8Array)),Gs=(e,t)=>{const o=(e&&e[st]).call(e);let r;for(;(r=o.next())&&!r.done;){const a=r.value;t.call(e,a[0],a[1])}},As=(e,t)=>{let s;const o=[];for(;(s=e.exec(t))!==null;)o.push(s);return o},Hs=ne("HTMLFormElement"),Us=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(s,o,r){return o.toUpperCase()+r}),Ht=(({hasOwnProperty:e})=>(t,s)=>e.call(t,s))(Object.prototype),Vs=ne("RegExp"),Tn=(e,t)=>{const s=Object.getOwnPropertyDescriptors(e),o={};ke(s,(r,a)=>{let i;(i=t(r,a,e))!==!1&&(o[a]=i||r)}),Object.defineProperties(e,o)},qs=e=>{Tn(e,(t,s)=>{if(J(e)&&["arguments","caller","callee"].indexOf(s)!==-1)return!1;const o=e[s];if(J(o)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+s+"'")})}})},zs=(e,t)=>{const s={},o=r=>{r.forEach(a=>{s[a]=!0})};return Fe(e)?o(e):o(String(e).split(t)),s},Ws=()=>{},Js=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Xs(e){return!!(e&&J(e.append)&&e[jn]==="FormData"&&e[st])}const Ks=e=>{const t=new Array(10),s=(o,r)=>{if(Be(o)){if(t.indexOf(o)>=0)return;if(Oe(o))return o;if(!("toJSON"in o)){t[r]=o;const a=Fe(o)?[]:{};return ke(o,(i,l)=>{const m=s(i,r+1);!Le(m)&&(a[l]=m)}),t[r]=void 0,a}}return o};return s(e,0)},Qs=ne("AsyncFunction"),Ys=e=>e&&(Be(e)||J(e))&&J(e.then)&&J(e.catch),En=((e,t)=>e?setImmediate:t?((s,o)=>(xe.addEventListener("message",({source:r,data:a})=>{r===xe&&a===s&&o.length&&o.shift()()},!1),r=>{o.push(r),xe.postMessage(s,"*")}))(`axios@${Math.random()}`,[]):s=>setTimeout(s))(typeof setImmediate=="function",J(xe.postMessage)),Zs=typeof queueMicrotask<"u"?queueMicrotask.bind(xe):typeof process<"u"&&process.nextTick||En,eo=e=>e!=null&&J(e[st]),u={isArray:Fe,isArrayBuffer:Sn,isBuffer:Oe,isFormData:Ns,isArrayBufferView:fs,isString:bs,isNumber:Nn,isBoolean:ws,isObject:Be,isPlainObject:We,isEmptyObject:vs,isReadableStream:Fs,isRequest:Ts,isResponse:Es,isHeaders:Is,isUndefined:Le,isDate:xs,isFile:ys,isBlob:Cs,isRegExp:Vs,isFunction:J,isStream:Ss,isURLSearchParams:Ls,isTypedArray:Ps,isFileList:js,forEach:ke,merge:vt,extend:Rs,trim:$s,stripBOM:Ms,inherits:Ds,toFlatObject:Os,kindOf:ot,kindOfTest:ne,endsWith:Bs,toArray:ks,forEachEntry:Gs,matchAll:As,isHTMLForm:Hs,hasOwnProperty:Ht,hasOwnProp:Ht,reduceDescriptors:Tn,freezeMethods:qs,toObjectSet:zs,toCamelCase:Us,noop:Ws,toFiniteNumber:Js,findKey:Ln,global:xe,isContextDefined:Fn,isSpecCompliantForm:Xs,toJSONObject:Ks,isAsyncFn:Qs,isThenable:Ys,setImmediate:En,asap:Zs,isIterable:eo};function S(e,t,s,o,r){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),s&&(this.config=s),o&&(this.request=o),r&&(this.response=r,this.status=r.status?r.status:null)}u.inherits(S,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:u.toJSONObject(this.config),code:this.code,status:this.status}}});const In=S.prototype,$n={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$n[e]={value:e}});Object.defineProperties(S,$n);Object.defineProperty(In,"isAxiosError",{value:!0});S.from=(e,t,s,o,r,a)=>{const i=Object.create(In);u.toFlatObject(e,i,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const l=e&&e.message?e.message:"Error",m=t==null&&e?e.code:t;return S.call(i,l,m,s,o,r),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const to=null;function xt(e){return u.isPlainObject(e)||u.isArray(e)}function Rn(e){return u.endsWith(e,"[]")?e.slice(0,-2):e}function Ut(e,t,s){return e?e.concat(t).map(function(r,a){return r=Rn(r),!s&&a?"["+r+"]":r}).join(s?".":""):t}function no(e){return u.isArray(e)&&!e.some(xt)}const so=u.toFlatObject(u,{},null,function(t){return/^is[A-Z]/.test(t)});function at(e,t,s){if(!u.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,s=u.toFlatObject(s,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,_){return!u.isUndefined(_[p])});const o=s.metaTokens,r=s.visitor||d,a=s.dots,i=s.indexes,m=(s.Blob||typeof Blob<"u"&&Blob)&&u.isSpecCompliantForm(t);if(!u.isFunction(r))throw new TypeError("visitor must be a function");function c(h){if(h===null)return"";if(u.isDate(h))return h.toISOString();if(u.isBoolean(h))return h.toString();if(!m&&u.isBlob(h))throw new S("Blob is not supported. Use a Buffer instead.");return u.isArrayBuffer(h)||u.isTypedArray(h)?m&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function d(h,p,_){let v=h;if(h&&!_&&typeof h=="object"){if(u.endsWith(p,"{}"))p=o?p:p.slice(0,-2),h=JSON.stringify(h);else if(u.isArray(h)&&no(h)||(u.isFileList(h)||u.endsWith(p,"[]"))&&(v=u.toArray(h)))return p=Rn(p),v.forEach(function(j,N){!(u.isUndefined(j)||j===null)&&t.append(i===!0?Ut([p],N,a):i===null?p:p+"[]",c(j))}),!1}return xt(h)?!0:(t.append(Ut(_,p,a),c(h)),!1)}const f=[],g=Object.assign(so,{defaultVisitor:d,convertValue:c,isVisitable:xt});function w(h,p){if(!u.isUndefined(h)){if(f.indexOf(h)!==-1)throw Error("Circular reference detected in "+p.join("."));f.push(h),u.forEach(h,function(v,y){(!(u.isUndefined(v)||v===null)&&r.call(t,v,u.isString(y)?y.trim():y,p,g))===!0&&w(v,p?p.concat(y):[y])}),f.pop()}}if(!u.isObject(e))throw new TypeError("data must be an object");return w(e),t}function Vt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(o){return t[o]})}function St(e,t){this._pairs=[],e&&at(e,this,t)}const Mn=St.prototype;Mn.append=function(t,s){this._pairs.push([t,s])};Mn.toString=function(t){const s=t?function(o){return t.call(this,o,Vt)}:Vt;return this._pairs.map(function(r){return s(r[0])+"="+s(r[1])},"").join("&")};function oo(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function Dn(e,t,s){if(!t)return e;const o=s&&s.encode||oo;u.isFunction(s)&&(s={serialize:s});const r=s&&s.serialize;let a;if(r?a=r(t,s):a=u.isURLSearchParams(t)?t.toString():new St(t,s).toString(o),a){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+a}return e}class ro{constructor(){this.handlers=[]}use(t,s,o){return this.handlers.push({fulfilled:t,rejected:s,synchronous:o?o.synchronous:!1,runWhen:o?o.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){u.forEach(this.handlers,function(o){o!==null&&t(o)})}}const qt=ro,On={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ao=typeof URLSearchParams<"u"?URLSearchParams:St,io=typeof FormData<"u"?FormData:null,lo=typeof Blob<"u"?Blob:null,co={isBrowser:!0,classes:{URLSearchParams:ao,FormData:io,Blob:lo},protocols:["http","https","file","blob","url","data"]},Nt=typeof window<"u"&&typeof document<"u",yt=typeof navigator=="object"&&navigator||void 0,uo=Nt&&(!yt||["ReactNative","NativeScript","NS"].indexOf(yt.product)<0),mo=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),ho=Nt&&window.location.href||"http://localhost",_o=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Nt,hasStandardBrowserEnv:uo,hasStandardBrowserWebWorkerEnv:mo,navigator:yt,origin:ho},Symbol.toStringTag,{value:"Module"})),z={..._o,...co};function po(e,t){return at(e,new z.classes.URLSearchParams,{visitor:function(s,o,r,a){return z.isNode&&u.isBuffer(s)?(this.append(o,s.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...t})}function go(e){return u.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function fo(e){const t={},s=Object.keys(e);let o;const r=s.length;let a;for(o=0;o<r;o++)a=s[o],t[a]=e[a];return t}function Bn(e){function t(s,o,r,a){let i=s[a++];if(i==="__proto__")return!0;const l=Number.isFinite(+i),m=a>=s.length;return i=!i&&u.isArray(r)?r.length:i,m?(u.hasOwnProp(r,i)?r[i]=[r[i],o]:r[i]=o,!l):((!r[i]||!u.isObject(r[i]))&&(r[i]=[]),t(s,o,r[i],a)&&u.isArray(r[i])&&(r[i]=fo(r[i])),!l)}if(u.isFormData(e)&&u.isFunction(e.entries)){const s={};return u.forEachEntry(e,(o,r)=>{t(go(o),r,s,0)}),s}return null}function bo(e,t,s){if(u.isString(e))try{return(t||JSON.parse)(e),u.trim(e)}catch(o){if(o.name!=="SyntaxError")throw o}return(s||JSON.stringify)(e)}const Lt={transitional:On,adapter:["xhr","http","fetch"],transformRequest:[function(t,s){const o=s.getContentType()||"",r=o.indexOf("application/json")>-1,a=u.isObject(t);if(a&&u.isHTMLForm(t)&&(t=new FormData(t)),u.isFormData(t))return r?JSON.stringify(Bn(t)):t;if(u.isArrayBuffer(t)||u.isBuffer(t)||u.isStream(t)||u.isFile(t)||u.isBlob(t)||u.isReadableStream(t))return t;if(u.isArrayBufferView(t))return t.buffer;if(u.isURLSearchParams(t))return s.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let l;if(a){if(o.indexOf("application/x-www-form-urlencoded")>-1)return po(t,this.formSerializer).toString();if((l=u.isFileList(t))||o.indexOf("multipart/form-data")>-1){const m=this.env&&this.env.FormData;return at(l?{"files[]":t}:t,m&&new m,this.formSerializer)}}return a||r?(s.setContentType("application/json",!1),bo(t)):t}],transformResponse:[function(t){const s=this.transitional||Lt.transitional,o=s&&s.forcedJSONParsing,r=this.responseType==="json";if(u.isResponse(t)||u.isReadableStream(t))return t;if(t&&u.isString(t)&&(o&&!this.responseType||r)){const i=!(s&&s.silentJSONParsing)&&r;try{return JSON.parse(t,this.parseReviver)}catch(l){if(i)throw l.name==="SyntaxError"?S.from(l,S.ERR_BAD_RESPONSE,this,null,this.response):l}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:z.classes.FormData,Blob:z.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};u.forEach(["delete","get","head","post","put","patch"],e=>{Lt.headers[e]={}});const Ft=Lt,wo=u.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vo=e=>{const t={};let s,o,r;return e&&e.split(`
`).forEach(function(i){r=i.indexOf(":"),s=i.substring(0,r).trim().toLowerCase(),o=i.substring(r+1).trim(),!(!s||t[s]&&wo[s])&&(s==="set-cookie"?t[s]?t[s].push(o):t[s]=[o]:t[s]=t[s]?t[s]+", "+o:o)}),t},zt=Symbol("internals");function Ie(e){return e&&String(e).trim().toLowerCase()}function Je(e){return e===!1||e==null?e:u.isArray(e)?e.map(Je):String(e)}function xo(e){const t=Object.create(null),s=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let o;for(;o=s.exec(e);)t[o[1]]=o[2];return t}const yo=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function ct(e,t,s,o,r){if(u.isFunction(o))return o.call(this,t,s);if(r&&(t=s),!!u.isString(t)){if(u.isString(o))return t.indexOf(o)!==-1;if(u.isRegExp(o))return o.test(t)}}function Co(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,s,o)=>s.toUpperCase()+o)}function jo(e,t){const s=u.toCamelCase(" "+t);["get","set","has"].forEach(o=>{Object.defineProperty(e,o+s,{value:function(r,a,i){return this[o].call(this,t,r,a,i)},configurable:!0})})}class it{constructor(t){t&&this.set(t)}set(t,s,o){const r=this;function a(l,m,c){const d=Ie(m);if(!d)throw new Error("header name must be a non-empty string");const f=u.findKey(r,d);(!f||r[f]===void 0||c===!0||c===void 0&&r[f]!==!1)&&(r[f||m]=Je(l))}const i=(l,m)=>u.forEach(l,(c,d)=>a(c,d,m));if(u.isPlainObject(t)||t instanceof this.constructor)i(t,s);else if(u.isString(t)&&(t=t.trim())&&!yo(t))i(vo(t),s);else if(u.isObject(t)&&u.isIterable(t)){let l={},m,c;for(const d of t){if(!u.isArray(d))throw TypeError("Object iterator must return a key-value pair");l[c=d[0]]=(m=l[c])?u.isArray(m)?[...m,d[1]]:[m,d[1]]:d[1]}i(l,s)}else t!=null&&a(s,t,o);return this}get(t,s){if(t=Ie(t),t){const o=u.findKey(this,t);if(o){const r=this[o];if(!s)return r;if(s===!0)return xo(r);if(u.isFunction(s))return s.call(this,r,o);if(u.isRegExp(s))return s.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,s){if(t=Ie(t),t){const o=u.findKey(this,t);return!!(o&&this[o]!==void 0&&(!s||ct(this,this[o],o,s)))}return!1}delete(t,s){const o=this;let r=!1;function a(i){if(i=Ie(i),i){const l=u.findKey(o,i);l&&(!s||ct(o,o[l],l,s))&&(delete o[l],r=!0)}}return u.isArray(t)?t.forEach(a):a(t),r}clear(t){const s=Object.keys(this);let o=s.length,r=!1;for(;o--;){const a=s[o];(!t||ct(this,this[a],a,t,!0))&&(delete this[a],r=!0)}return r}normalize(t){const s=this,o={};return u.forEach(this,(r,a)=>{const i=u.findKey(o,a);if(i){s[i]=Je(r),delete s[a];return}const l=t?Co(a):String(a).trim();l!==a&&delete s[a],s[l]=Je(r),o[l]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const s=Object.create(null);return u.forEach(this,(o,r)=>{o!=null&&o!==!1&&(s[r]=t&&u.isArray(o)?o.join(", "):o)}),s}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,s])=>t+": "+s).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...s){const o=new this(t);return s.forEach(r=>o.set(r)),o}static accessor(t){const o=(this[zt]=this[zt]={accessors:{}}).accessors,r=this.prototype;function a(i){const l=Ie(i);o[l]||(jo(r,i),o[l]=!0)}return u.isArray(t)?t.forEach(a):a(t),this}}it.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);u.reduceDescriptors(it.prototype,({value:e},t)=>{let s=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(o){this[s]=o}}});u.freezeMethods(it);const te=it;function dt(e,t){const s=this||Ft,o=t||s,r=te.from(o.headers);let a=o.data;return u.forEach(e,function(l){a=l.call(s,a,r.normalize(),t?t.status:void 0)}),r.normalize(),a}function kn(e){return!!(e&&e.__CANCEL__)}function Te(e,t,s){S.call(this,e??"canceled",S.ERR_CANCELED,t,s),this.name="CanceledError"}u.inherits(Te,S,{__CANCEL__:!0});function Pn(e,t,s){const o=s.config.validateStatus;!s.status||!o||o(s.status)?e(s):t(new S("Request failed with status code "+s.status,[S.ERR_BAD_REQUEST,S.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s))}function So(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function No(e,t){e=e||10;const s=new Array(e),o=new Array(e);let r=0,a=0,i;return t=t!==void 0?t:1e3,function(m){const c=Date.now(),d=o[a];i||(i=c),s[r]=m,o[r]=c;let f=a,g=0;for(;f!==r;)g+=s[f++],f=f%e;if(r=(r+1)%e,r===a&&(a=(a+1)%e),c-i<t)return;const w=d&&c-d;return w?Math.round(g*1e3/w):void 0}}function Lo(e,t){let s=0,o=1e3/t,r,a;const i=(c,d=Date.now())=>{s=d,r=null,a&&(clearTimeout(a),a=null),e(...c)};return[(...c)=>{const d=Date.now(),f=d-s;f>=o?i(c,d):(r=c,a||(a=setTimeout(()=>{a=null,i(r)},o-f)))},()=>r&&i(r)]}const Qe=(e,t,s=3)=>{let o=0;const r=No(50,250);return Lo(a=>{const i=a.loaded,l=a.lengthComputable?a.total:void 0,m=i-o,c=r(m),d=i<=l;o=i;const f={loaded:i,total:l,progress:l?i/l:void 0,bytes:m,rate:c||void 0,estimated:c&&l&&d?(l-i)/c:void 0,event:a,lengthComputable:l!=null,[t?"download":"upload"]:!0};e(f)},s)},Wt=(e,t)=>{const s=e!=null;return[o=>t[0]({lengthComputable:s,total:e,loaded:o}),t[1]]},Jt=e=>(...t)=>u.asap(()=>e(...t)),Fo=z.hasStandardBrowserEnv?((e,t)=>s=>(s=new URL(s,z.origin),e.protocol===s.protocol&&e.host===s.host&&(t||e.port===s.port)))(new URL(z.origin),z.navigator&&/(msie|trident)/i.test(z.navigator.userAgent)):()=>!0,To=z.hasStandardBrowserEnv?{write(e,t,s,o,r,a,i){if(typeof document>"u")return;const l=[`${e}=${encodeURIComponent(t)}`];u.isNumber(s)&&l.push(`expires=${new Date(s).toUTCString()}`),u.isString(o)&&l.push(`path=${o}`),u.isString(r)&&l.push(`domain=${r}`),a===!0&&l.push("secure"),u.isString(i)&&l.push(`SameSite=${i}`),document.cookie=l.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Eo(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function Io(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Gn(e,t,s){let o=!Eo(t);return e&&(o||s==!1)?Io(e,t):t}const Xt=e=>e instanceof te?{...e}:e;function ye(e,t){t=t||{};const s={};function o(c,d,f,g){return u.isPlainObject(c)&&u.isPlainObject(d)?u.merge.call({caseless:g},c,d):u.isPlainObject(d)?u.merge({},d):u.isArray(d)?d.slice():d}function r(c,d,f,g){if(u.isUndefined(d)){if(!u.isUndefined(c))return o(void 0,c,f,g)}else return o(c,d,f,g)}function a(c,d){if(!u.isUndefined(d))return o(void 0,d)}function i(c,d){if(u.isUndefined(d)){if(!u.isUndefined(c))return o(void 0,c)}else return o(void 0,d)}function l(c,d,f){if(f in t)return o(c,d);if(f in e)return o(void 0,c)}const m={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(c,d,f)=>r(Xt(c),Xt(d),f,!0)};return u.forEach(Object.keys({...e,...t}),function(d){const f=m[d]||r,g=f(e[d],t[d],d);u.isUndefined(g)&&f!==l||(s[d]=g)}),s}const An=e=>{const t=ye({},e);let{data:s,withXSRFToken:o,xsrfHeaderName:r,xsrfCookieName:a,headers:i,auth:l}=t;if(t.headers=i=te.from(i),t.url=Dn(Gn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),u.isFormData(s)){if(z.hasStandardBrowserEnv||z.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(u.isFunction(s.getHeaders)){const m=s.getHeaders(),c=["content-type","content-length"];Object.entries(m).forEach(([d,f])=>{c.includes(d.toLowerCase())&&i.set(d,f)})}}if(z.hasStandardBrowserEnv&&(o&&u.isFunction(o)&&(o=o(t)),o||o!==!1&&Fo(t.url))){const m=r&&a&&To.read(a);m&&i.set(r,m)}return t},$o=typeof XMLHttpRequest<"u",Ro=$o&&function(e){return new Promise(function(s,o){const r=An(e);let a=r.data;const i=te.from(r.headers).normalize();let{responseType:l,onUploadProgress:m,onDownloadProgress:c}=r,d,f,g,w,h;function p(){w&&w(),h&&h(),r.cancelToken&&r.cancelToken.unsubscribe(d),r.signal&&r.signal.removeEventListener("abort",d)}let _=new XMLHttpRequest;_.open(r.method.toUpperCase(),r.url,!0),_.timeout=r.timeout;function v(){if(!_)return;const j=te.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),E={data:!l||l==="text"||l==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:j,config:e,request:_};Pn(function(L){s(L),p()},function(L){o(L),p()},E),_=null}"onloadend"in _?_.onloadend=v:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(v)},_.onabort=function(){_&&(o(new S("Request aborted",S.ECONNABORTED,e,_)),_=null)},_.onerror=function(N){const E=N&&N.message?N.message:"Network Error",R=new S(E,S.ERR_NETWORK,e,_);R.event=N||null,o(R),_=null},_.ontimeout=function(){let N=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const E=r.transitional||On;r.timeoutErrorMessage&&(N=r.timeoutErrorMessage),o(new S(N,E.clarifyTimeoutError?S.ETIMEDOUT:S.ECONNABORTED,e,_)),_=null},a===void 0&&i.setContentType(null),"setRequestHeader"in _&&u.forEach(i.toJSON(),function(N,E){_.setRequestHeader(E,N)}),u.isUndefined(r.withCredentials)||(_.withCredentials=!!r.withCredentials),l&&l!=="json"&&(_.responseType=r.responseType),c&&([g,h]=Qe(c,!0),_.addEventListener("progress",g)),m&&_.upload&&([f,w]=Qe(m),_.upload.addEventListener("progress",f),_.upload.addEventListener("loadend",w)),(r.cancelToken||r.signal)&&(d=j=>{_&&(o(!j||j.type?new Te(null,e,_):j),_.abort(),_=null)},r.cancelToken&&r.cancelToken.subscribe(d),r.signal&&(r.signal.aborted?d():r.signal.addEventListener("abort",d)));const y=So(r.url);if(y&&z.protocols.indexOf(y)===-1){o(new S("Unsupported protocol "+y+":",S.ERR_BAD_REQUEST,e));return}_.send(a||null)})},Mo=(e,t)=>{const{length:s}=e=e?e.filter(Boolean):[];if(t||s){let o=new AbortController,r;const a=function(c){if(!r){r=!0,l();const d=c instanceof Error?c:this.reason;o.abort(d instanceof S?d:new Te(d instanceof Error?d.message:d))}};let i=t&&setTimeout(()=>{i=null,a(new S(`timeout ${t} of ms exceeded`,S.ETIMEDOUT))},t);const l=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(c=>{c.unsubscribe?c.unsubscribe(a):c.removeEventListener("abort",a)}),e=null)};e.forEach(c=>c.addEventListener("abort",a));const{signal:m}=o;return m.unsubscribe=()=>u.asap(l),m}},Do=Mo,Oo=function*(e,t){let s=e.byteLength;if(!t||s<t){yield e;return}let o=0,r;for(;o<s;)r=o+t,yield e.slice(o,r),o=r},Bo=async function*(e,t){for await(const s of ko(e))yield*Oo(s,t)},ko=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:s,value:o}=await t.read();if(s)break;yield o}}finally{await t.cancel()}},Kt=(e,t,s,o)=>{const r=Bo(e,t);let a=0,i,l=m=>{i||(i=!0,o&&o(m))};return new ReadableStream({async pull(m){try{const{done:c,value:d}=await r.next();if(c){l(),m.close();return}let f=d.byteLength;if(s){let g=a+=f;s(g)}m.enqueue(new Uint8Array(d))}catch(c){throw l(c),c}},cancel(m){return l(m),r.return()}},{highWaterMark:2})},Qt=64*1024,{isFunction:Ve}=u,Po=(({Request:e,Response:t})=>({Request:e,Response:t}))(u.global),{ReadableStream:Yt,TextEncoder:Zt}=u.global,en=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Go=e=>{e=u.merge.call({skipUndefined:!0},Po,e);const{fetch:t,Request:s,Response:o}=e,r=t?Ve(t):typeof fetch=="function",a=Ve(s),i=Ve(o);if(!r)return!1;const l=r&&Ve(Yt),m=r&&(typeof Zt=="function"?(h=>p=>h.encode(p))(new Zt):async h=>new Uint8Array(await new s(h).arrayBuffer())),c=a&&l&&en(()=>{let h=!1;const p=new s(z.origin,{body:new Yt,method:"POST",get duplex(){return h=!0,"half"}}).headers.has("Content-Type");return h&&!p}),d=i&&l&&en(()=>u.isReadableStream(new o("").body)),f={stream:d&&(h=>h.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(h=>{!f[h]&&(f[h]=(p,_)=>{let v=p&&p[h];if(v)return v.call(p);throw new S(`Response type '${h}' is not supported`,S.ERR_NOT_SUPPORT,_)})});const g=async h=>{if(h==null)return 0;if(u.isBlob(h))return h.size;if(u.isSpecCompliantForm(h))return(await new s(z.origin,{method:"POST",body:h}).arrayBuffer()).byteLength;if(u.isArrayBufferView(h)||u.isArrayBuffer(h))return h.byteLength;if(u.isURLSearchParams(h)&&(h=h+""),u.isString(h))return(await m(h)).byteLength},w=async(h,p)=>{const _=u.toFiniteNumber(h.getContentLength());return _??g(p)};return async h=>{let{url:p,method:_,data:v,signal:y,cancelToken:j,timeout:N,onDownloadProgress:E,onUploadProgress:R,responseType:L,headers:B,withCredentials:se="same-origin",fetchOptions:_e}=An(h),ce=t||fetch;L=L?(L+"").toLowerCase():"text";let X=Do([y,j&&j.toAbortSignal()],N),x=null;const U=X&&X.unsubscribe&&(()=>{X.unsubscribe()});let Pe;try{if(R&&c&&_!=="get"&&_!=="head"&&(Pe=await w(B,v))!==0){let re=new s(p,{method:"POST",body:v,duplex:"half"}),D;if(u.isFormData(v)&&(D=re.headers.get("content-type"))&&B.setContentType(D),re.body){const[Ae,je]=Wt(Pe,Qe(Jt(R)));v=Kt(re.body,Qt,Ae,je)}}u.isString(se)||(se=se?"include":"omit");const Y=a&&"credentials"in s.prototype,de={..._e,signal:X,method:_.toUpperCase(),headers:B.normalize().toJSON(),body:v,duplex:"half",credentials:Y?se:void 0};x=a&&new s(p,de);let oe=await(a?ce(x,_e):ce(p,de));const Ge=d&&(L==="stream"||L==="response");if(d&&(E||Ge&&U)){const re={};["status","statusText","headers"].forEach(He=>{re[He]=oe[He]});const D=u.toFiniteNumber(oe.headers.get("content-length")),[Ae,je]=E&&Wt(D,Qe(Jt(E),!0))||[];oe=new o(Kt(oe.body,Qt,Ae,()=>{je&&je(),U&&U()}),re)}L=L||"text";let pe=await f[u.findKey(f,L)||"text"](oe,h);return!Ge&&U&&U(),await new Promise((re,D)=>{Pn(re,D,{data:pe,headers:te.from(oe.headers),status:oe.status,statusText:oe.statusText,config:h,request:x})})}catch(Y){throw U&&U(),Y&&Y.name==="TypeError"&&/Load failed|fetch/i.test(Y.message)?Object.assign(new S("Network Error",S.ERR_NETWORK,h,x),{cause:Y.cause||Y}):S.from(Y,Y&&Y.code,h,x)}}},Ao=new Map,Hn=e=>{let t=e&&e.env||{};const{fetch:s,Request:o,Response:r}=t,a=[o,r,s];let i=a.length,l=i,m,c,d=Ao;for(;l--;)m=a[l],c=d.get(m),c===void 0&&d.set(m,c=l?new Map:Go(t)),d=c;return c};Hn();const Tt={http:to,xhr:Ro,fetch:{get:Hn}};u.forEach(Tt,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const tn=e=>`- ${e}`,Ho=e=>u.isFunction(e)||e===null||e===!1;function Uo(e,t){e=u.isArray(e)?e:[e];const{length:s}=e;let o,r;const a={};for(let i=0;i<s;i++){o=e[i];let l;if(r=o,!Ho(o)&&(r=Tt[(l=String(o)).toLowerCase()],r===void 0))throw new S(`Unknown adapter '${l}'`);if(r&&(u.isFunction(r)||(r=r.get(t))))break;a[l||"#"+i]=r}if(!r){const i=Object.entries(a).map(([m,c])=>`adapter ${m} `+(c===!1?"is not supported by the environment":"is not available in the build"));let l=s?i.length>1?`since :
`+i.map(tn).join(`
`):" "+tn(i[0]):"as no adapter specified";throw new S("There is no suitable adapter to dispatch the request "+l,"ERR_NOT_SUPPORT")}return r}const Un={getAdapter:Uo,adapters:Tt};function ut(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Te(null,e)}function nn(e){return ut(e),e.headers=te.from(e.headers),e.data=dt.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Un.getAdapter(e.adapter||Ft.adapter,e)(e).then(function(o){return ut(e),o.data=dt.call(e,e.transformResponse,o),o.headers=te.from(o.headers),o},function(o){return kn(o)||(ut(e),o&&o.response&&(o.response.data=dt.call(e,e.transformResponse,o.response),o.response.headers=te.from(o.response.headers))),Promise.reject(o)})}const Vn="1.13.2",lt={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{lt[e]=function(o){return typeof o===e||"a"+(t<1?"n ":" ")+e}});const sn={};lt.transitional=function(t,s,o){function r(a,i){return"[Axios v"+Vn+"] Transitional option '"+a+"'"+i+(o?". "+o:"")}return(a,i,l)=>{if(t===!1)throw new S(r(i," has been removed"+(s?" in "+s:"")),S.ERR_DEPRECATED);return s&&!sn[i]&&(sn[i]=!0,console.warn(r(i," has been deprecated since v"+s+" and will be removed in the near future"))),t?t(a,i,l):!0}};lt.spelling=function(t){return(s,o)=>(console.warn(`${o} is likely a misspelling of ${t}`),!0)};function Vo(e,t,s){if(typeof e!="object")throw new S("options must be an object",S.ERR_BAD_OPTION_VALUE);const o=Object.keys(e);let r=o.length;for(;r-- >0;){const a=o[r],i=t[a];if(i){const l=e[a],m=l===void 0||i(l,a,e);if(m!==!0)throw new S("option "+a+" must be "+m,S.ERR_BAD_OPTION_VALUE);continue}if(s!==!0)throw new S("Unknown option "+a,S.ERR_BAD_OPTION)}}const Xe={assertOptions:Vo,validators:lt},ae=Xe.validators;class Ye{constructor(t){this.defaults=t||{},this.interceptors={request:new qt,response:new qt}}async request(t,s){try{return await this._request(t,s)}catch(o){if(o instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const a=r.stack?r.stack.replace(/^.+\n/,""):"";try{o.stack?a&&!String(o.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(o.stack+=`
`+a):o.stack=a}catch{}}throw o}}_request(t,s){typeof t=="string"?(s=s||{},s.url=t):s=t||{},s=ye(this.defaults,s);const{transitional:o,paramsSerializer:r,headers:a}=s;o!==void 0&&Xe.assertOptions(o,{silentJSONParsing:ae.transitional(ae.boolean),forcedJSONParsing:ae.transitional(ae.boolean),clarifyTimeoutError:ae.transitional(ae.boolean)},!1),r!=null&&(u.isFunction(r)?s.paramsSerializer={serialize:r}:Xe.assertOptions(r,{encode:ae.function,serialize:ae.function},!0)),s.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?s.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:s.allowAbsoluteUrls=!0),Xe.assertOptions(s,{baseUrl:ae.spelling("baseURL"),withXsrfToken:ae.spelling("withXSRFToken")},!0),s.method=(s.method||this.defaults.method||"get").toLowerCase();let i=a&&u.merge(a.common,a[s.method]);a&&u.forEach(["delete","get","head","post","put","patch","common"],h=>{delete a[h]}),s.headers=te.concat(i,a);const l=[];let m=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(s)===!1||(m=m&&p.synchronous,l.unshift(p.fulfilled,p.rejected))});const c=[];this.interceptors.response.forEach(function(p){c.push(p.fulfilled,p.rejected)});let d,f=0,g;if(!m){const h=[nn.bind(this),void 0];for(h.unshift(...l),h.push(...c),g=h.length,d=Promise.resolve(s);f<g;)d=d.then(h[f++],h[f++]);return d}g=l.length;let w=s;for(;f<g;){const h=l[f++],p=l[f++];try{w=h(w)}catch(_){p.call(this,_);break}}try{d=nn.call(this,w)}catch(h){return Promise.reject(h)}for(f=0,g=c.length;f<g;)d=d.then(c[f++],c[f++]);return d}getUri(t){t=ye(this.defaults,t);const s=Gn(t.baseURL,t.url,t.allowAbsoluteUrls);return Dn(s,t.params,t.paramsSerializer)}}u.forEach(["delete","get","head","options"],function(t){Ye.prototype[t]=function(s,o){return this.request(ye(o||{},{method:t,url:s,data:(o||{}).data}))}});u.forEach(["post","put","patch"],function(t){function s(o){return function(a,i,l){return this.request(ye(l||{},{method:t,headers:o?{"Content-Type":"multipart/form-data"}:{},url:a,data:i}))}}Ye.prototype[t]=s(),Ye.prototype[t+"Form"]=s(!0)});const Ke=Ye;class Et{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let s;this.promise=new Promise(function(a){s=a});const o=this;this.promise.then(r=>{if(!o._listeners)return;let a=o._listeners.length;for(;a-- >0;)o._listeners[a](r);o._listeners=null}),this.promise.then=r=>{let a;const i=new Promise(l=>{o.subscribe(l),a=l}).then(r);return i.cancel=function(){o.unsubscribe(a)},i},t(function(a,i,l){o.reason||(o.reason=new Te(a,i,l),s(o.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const s=this._listeners.indexOf(t);s!==-1&&this._listeners.splice(s,1)}toAbortSignal(){const t=new AbortController,s=o=>{t.abort(o)};return this.subscribe(s),t.signal.unsubscribe=()=>this.unsubscribe(s),t.signal}static source(){let t;return{token:new Et(function(r){t=r}),cancel:t}}}const qo=Et;function zo(e){return function(s){return e.apply(null,s)}}function Wo(e){return u.isObject(e)&&e.isAxiosError===!0}const Ct={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Ct).forEach(([e,t])=>{Ct[t]=e});const Jo=Ct;function qn(e){const t=new Ke(e),s=Cn(Ke.prototype.request,t);return u.extend(s,Ke.prototype,t,{allOwnKeys:!0}),u.extend(s,t,null,{allOwnKeys:!0}),s.create=function(r){return qn(ye(e,r))},s}const k=qn(Ft);k.Axios=Ke;k.CanceledError=Te;k.CancelToken=qo;k.isCancel=kn;k.VERSION=Vn;k.toFormData=at;k.AxiosError=S;k.Cancel=k.CanceledError;k.all=function(t){return Promise.all(t)};k.spread=zo;k.isAxiosError=Wo;k.mergeConfig=ye;k.AxiosHeaders=te;k.formToJSON=e=>Bn(u.isHTMLForm(e)?new FormData(e):e);k.getAdapter=Un.getAdapter;k.HttpStatusCode=Jo;k.default=k;const Xo=k,Ko=!1,ee=Xo.create({baseURL:"http://45.144.220.121/",withCredentials:!Ko,timeout:3e4}),le={getAccessToken:()=>localStorage.getItem("accessToken"),setAccessToken:e=>localStorage.setItem("accessToken",e),removeAccessToken:()=>localStorage.removeItem("accessToken"),getRefreshToken:()=>localStorage.getItem("refreshToken"),setRefreshToken:e=>localStorage.setItem("refreshToken",e),removeRefreshToken:()=>localStorage.removeItem("refreshToken"),clear:()=>{localStorage.removeItem("accessToken"),localStorage.removeItem("refreshToken")}};ee.interceptors.request.use(e=>{const t=le.getAccessToken();return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));let $e=!1;ee.interceptors.response.use(e=>e,async e=>{var o;const t=e.config,s=t.url==="/sessions/tokens";if(((o=e.response)==null?void 0:o.status)===401&&!t._retry&&!s){if(t._retry=!0,$e)return new Promise(r=>{const a=setInterval(()=>{$e||(clearInterval(a),r(ee(t)))},100)});$e=!0;try{const r=le.getRefreshToken();if(!r)throw new Error("No refresh token");const a=await ee.post("/sessions/tokens",{},{headers:{Authorization:`Bearer ${r}`}}),{accessToken:i,refreshToken:l}=a.data;return le.setAccessToken(i),le.setRefreshToken(l),$e=!1,ee(t)}catch(r){return $e=!1,le.clear(),console.error("Не удалось обновить сессию:",r),window.dispatchEvent(new Event("unauthorized")),Promise.reject(r)}}return Promise.reject(e)});const on={login:e=>ee.post("/sessions/auth",e).then(t=>t.data),logout:()=>{const e=le.getRefreshToken();return ee.delete("/sessions",{headers:e?{Authorization:`Bearer ${e}`}:{}}).then(t=>t.data)},refreshTokens:()=>{const e=le.getRefreshToken();if(!e)throw new Error("No refresh token available");return ee.post("/sessions/tokens",{},{headers:{Authorization:`Bearer ${e}`}}).then(t=>t.data)}},rn={getProfile:()=>ee.get("/users/me/profile").then(e=>e.data),register:e=>ee.post("/users",e).then(t=>t.data),requestPasswordReset:e=>ee.post("/users/request-password-reset",{email:e}).then(t=>t.data),resetPassword:(e,t)=>ee.post("/users/reset-password",{token:e,newPassword:t}).then(s=>s.data)},Qo=()=>{const e=b.useCallback(o=>{le.setAccessToken(o)},[]),t=b.useCallback(()=>{le.clear()},[]),s=b.useCallback(()=>!!le.getAccessToken(),[]);return{setAuthToken:e,clearAuth:t,isAuthenticated:s}},Yo=b.createContext(void 0),Zo=({children:e})=>{const[t,s]=b.useState(!1),[o,r]=b.useState(null),[a,i]=b.useState(!0),{isAuthenticated:l,setAuthToken:m}=Qo();b.useEffect(()=>{(async()=>{try{if(l()){const w=await rn.getProfile();r(w),s(!0)}}catch(w){console.error("Auth check failed:",w)}finally{i(!1)}})()},[l]);const f={isAuthenticated:t,user:o,login:async g=>{try{const{accessToken:w,refreshToken:h}=await on.login(g);m(w);const p=await rn.getProfile();r(p),s(!0)}catch(w){throw console.error("Login failed:",w),w}},logout:async()=>{try{await on.logout()}catch(g){console.error("Logout error:",g)}finally{r(null),s(!1)}},loading:a};return n.jsx(Yo.Provider,{value:f,children:e})};var zn={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},an=he.createContext&&he.createContext(zn),er=["attr","size","title"];function tr(e,t){if(e==null)return{};var s=nr(e,t),o,r;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)o=a[r],!(t.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(e,o)&&(s[o]=e[o])}return s}function nr(e,t){if(e==null)return{};var s={};for(var o in e)if(Object.prototype.hasOwnProperty.call(e,o)){if(t.indexOf(o)>=0)continue;s[o]=e[o]}return s}function Ze(){return Ze=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(e[o]=s[o])}return e},Ze.apply(this,arguments)}function ln(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),s.push.apply(s,o)}return s}function et(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ln(Object(s),!0).forEach(function(o){sr(e,o,s[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):ln(Object(s)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(s,o))})}return e}function sr(e,t,s){return t=or(t),t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function or(e){var t=rr(e,"string");return typeof t=="symbol"?t:t+""}function rr(e,t){if(typeof e!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var o=s.call(e,t||"default");if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wn(e){return e&&e.map((t,s)=>he.createElement(t.tag,et({key:s},t.attr),Wn(t.child)))}function V(e){return t=>he.createElement(ar,Ze({attr:et({},e.attr)},t),Wn(e.child))}function ar(e){var t=s=>{var{attr:o,size:r,title:a}=e,i=tr(e,er),l=r||s.size||"1em",m;return s.className&&(m=s.className),e.className&&(m=(m?m+" ":"")+e.className),he.createElement("svg",Ze({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},s.attr,o,i,{className:m,style:et(et({color:e.color||s.color},s.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),a&&he.createElement("title",null,a),e.children)};return an!==void 0?he.createElement(an.Consumer,null,s=>t(s)):t(zn)}function ir(e){return V({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function It(e){return V({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function $t(e){return V({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function lr(e){return V({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function cr(e){return V({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(e)}function dr(e){return V({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z"},child:[]}]})(e)}function Rt(e){return V({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function ur(e){return V({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M440.65 12.57l4 82.77A247.16 247.16 0 0 0 255.83 8C134.73 8 33.91 94.92 12.29 209.82A12 12 0 0 0 24.09 224h49.05a12 12 0 0 0 11.67-9.26 175.91 175.91 0 0 1 317-56.94l-101.46-4.86a12 12 0 0 0-12.57 12v47.41a12 12 0 0 0 12 12H500a12 12 0 0 0 12-12V12a12 12 0 0 0-12-12h-47.37a12 12 0 0 0-11.98 12.57zM255.83 432a175.61 175.61 0 0 1-146-77.8l101.8 4.87a12 12 0 0 0 12.57-12v-47.4a12 12 0 0 0-12-12H12a12 12 0 0 0-12 12V500a12 12 0 0 0 12 12h47.35a12 12 0 0 0 12-12.6l-4.15-82.57A247.17 247.17 0 0 0 255.83 504c121.11 0 221.93-86.92 243.55-201.82a12 12 0 0 0-11.8-14.18h-49.05a12 12 0 0 0-11.67 9.26A175.86 175.86 0 0 1 255.83 432z"},child:[]}]})(e)}function mr(e){return V({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(e)}function Q(e){return V({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}const hr="Icon-module__icon___aQ9tZ",_r="Icon-module__sm___RM4bC",pr="Icon-module__md___y0mHX",gr="Icon-module__lg___rMMhu",fr="Icon-module__xl___fQIyH",cn={icon:hr,sm:_r,md:pr,lg:gr,xl:fr},T=({icon:e,size:t="",className:s="",onClick:o,onMouseEnter:r,onMouseLeave:a})=>n.jsx(e,{className:`${cn.icon} ${cn[t]} ${s}`,onClick:o,onMouseEnter:r,onMouseLeave:a}),br="LogoSection-module__logoSection___VT1BK",wr="LogoSection-module__logoIcon___BHRjZ",vr="LogoSection-module__logoText___DAVFF",mt={logoSection:br,logoIcon:wr,logoText:vr},xr=({isExpanded:e})=>{const t=vn();return n.jsxs("div",{className:mt.logoSection,onClick:()=>t("/"),children:[n.jsx(T,{icon:mr,className:mt.logoIcon}),e&&n.jsx("span",{className:mt.logoText,children:"Fenix"})]})};function yr(e){return V({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M88.7 223.8L0 375.8 0 96C0 60.7 28.7 32 64 32l117.5 0c17 0 33.3 6.7 45.3 18.7l26.5 26.5c12 12 28.3 18.7 45.3 18.7L416 96c35.3 0 64 28.7 64 64l0 32-336 0c-22.8 0-43.8 12.1-55.3 31.8zm27.6 16.1C122.1 230 132.6 224 144 224l400 0c11.5 0 22 6.1 27.7 16.1s5.7 22.2-.1 32.1l-112 192C453.9 474 443.4 480 432 480L32 480c-11.5 0-22-6.1-27.7-16.1s-5.7-22.2 .1-32.1l112-192z"},child:[]}]})(e)}function Cr(e){return V({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M495.9 166.6c3.2 8.7 .5 18.4-6.4 24.6l-43.3 39.4c1.1 8.3 1.7 16.8 1.7 25.4s-.6 17.1-1.7 25.4l43.3 39.4c6.9 6.2 9.6 15.9 6.4 24.6c-4.4 11.9-9.7 23.3-15.8 34.3l-4.7 8.1c-6.6 11-14 21.4-22.1 31.2c-5.9 7.2-15.7 9.6-24.5 6.8l-55.7-17.7c-13.4 10.3-28.2 18.9-44 25.4l-12.5 57.1c-2 9.1-9 16.3-18.2 17.8c-13.8 2.3-28 3.5-42.5 3.5s-28.7-1.2-42.5-3.5c-9.2-1.5-16.2-8.7-18.2-17.8l-12.5-57.1c-15.8-6.5-30.6-15.1-44-25.4L83.1 425.9c-8.8 2.8-18.6 .3-24.5-6.8c-8.1-9.8-15.5-20.2-22.1-31.2l-4.7-8.1c-6.1-11-11.4-22.4-15.8-34.3c-3.2-8.7-.5-18.4 6.4-24.6l43.3-39.4C64.6 273.1 64 264.6 64 256s.6-17.1 1.7-25.4L22.4 191.2c-6.9-6.2-9.6-15.9-6.4-24.6c4.4-11.9 9.7-23.3 15.8-34.3l4.7-8.1c6.6-11 14-21.4 22.1-31.2c5.9-7.2 15.7-9.6 24.5-6.8l55.7 17.7c13.4-10.3 28.2-18.9 44-25.4l12.5-57.1c2-9.1 9-16.3 18.2-17.8C227.3 1.2 241.5 0 256 0s28.7 1.2 42.5 3.5c9.2 1.5 16.2 8.7 18.2 17.8l12.5 57.1c15.8 6.5 30.6 15.1 44 25.4l55.7-17.7c8.8-2.8 18.6-.3 24.5 6.8c8.1 9.8 15.5 20.2 22.1 31.2l4.7 8.1c6.1 11 11.4 22.4 15.8 34.3zM256 336a80 80 0 1 0 0-160 80 80 0 1 0 0 160z"},child:[]}]})(e)}function jr(e){return V({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M416 208c0 45.9-14.9 88.3-40 122.7L502.6 457.4c12.5 12.5 12.5 32.8 0 45.3s-32.8 12.5-45.3 0L330.7 376c-34.4 25.2-76.8 40-122.7 40C93.1 416 0 322.9 0 208S93.1 0 208 0S416 93.1 416 208zM208 352a144 144 0 1 0 0-288 144 144 0 1 0 0 288z"},child:[]}]})(e)}function Sr(e){return V({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M64 0C28.7 0 0 28.7 0 64L0 352c0 35.3 28.7 64 64 64l96 0 0 80c0 6.1 3.4 11.6 8.8 14.3s11.9 2.1 16.8-1.5L309.3 416 448 416c35.3 0 64-28.7 64-64l0-288c0-35.3-28.7-64-64-64L64 0z"},child:[]}]})(e)}function dn(e){return V({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M223.5 32C100 32 0 132.3 0 256S100 480 223.5 480c60.6 0 115.5-24.2 155.8-63.4c5-4.9 6.3-12.5 3.1-18.7s-10.1-9.7-17-8.5c-9.8 1.7-19.8 2.6-30.1 2.6c-96.9 0-175.5-78.8-175.5-176c0-65.8 36-123.1 89.3-153.3c6.1-3.5 9.2-10.5 7.7-17.3s-7.3-11.9-14.3-12.5c-6.3-.5-12.6-.8-19-.8z"},child:[]}]})(e)}function un(e){return V({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M361.5 1.2c5 2.1 8.6 6.6 9.6 11.9L391 121l107.9 19.8c5.3 1 9.8 4.6 11.9 9.6s1.5 10.7-1.6 15.2L446.9 256l62.3 90.3c3.1 4.5 3.7 10.2 1.6 15.2s-6.6 8.6-11.9 9.6L391 391 371.1 498.9c-1 5.3-4.6 9.8-9.6 11.9s-10.7 1.5-15.2-1.6L256 446.9l-90.3 62.3c-4.5 3.1-10.2 3.7-15.2 1.6s-8.6-6.6-9.6-11.9L121 391 13.1 371.1c-5.3-1-9.8-4.6-11.9-9.6s-1.5-10.7 1.6-15.2L65.1 256 2.8 165.7c-3.1-4.5-3.7-10.2-1.6-15.2s6.6-8.6 11.9-9.6L121 121 140.9 13.1c1-5.3 4.6-9.8 9.6-11.9s10.7-1.5 15.2 1.6L256 65.1 346.3 2.8c4.5-3.1 10.2-3.7 15.2-1.6zM160 256a96 96 0 1 1 192 0 96 96 0 1 1 -192 0zm224 0a128 128 0 1 0 -256 0 128 128 0 1 0 256 0z"},child:[]}]})(e)}function Nr(e){return V({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512l388.6 0c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304l-91.4 0z"},child:[]}]})(e)}const Lr="NavSection-module__navSection___AOVJt",Fr="NavSection-module__sectionLabel___JUbpF",Tr="NavSection-module__navItem___-d0kk",Er="NavSection-module__active___pvzKu",Ir="NavSection-module__collapsed___Uiblq",$r="NavSection-module__navIcon___Xv4pc",Rr="NavSection-module__navLabel___wznAb",Mr="NavSection-module__badge___3bWZU",ve={navSection:Lr,sectionLabel:Fr,navItem:Tr,active:Er,collapsed:Ir,navIcon:$r,navLabel:Rr,badge:Mr},Dr=({isExpanded:e})=>{const t=vn(),s=as(),o=[{id:1,icon:Nr,label:"Профиль",path:"/profile"},{id:2,icon:jr,label:"Каталог",path:"/catalog"},{id:3,icon:yr,label:"Ваши файлы",path:"/files"},{id:4,icon:Sr,label:"Сообщения",path:"/messages",badge:12},{id:5,icon:Cr,label:"test-api",path:"/test-api"}],a=(()=>{const l=s.pathname;return l==="/profile"?1:l==="/catalog"?2:l==="/files"?3:l==="/messages"?4:l==="/test-api"?5:1})(),i=l=>{t(l)};return n.jsx("div",{className:ve.navSection,children:o.map(l=>n.jsxs("div",{className:`${ve.navItem} ${a===l.id?ve.active:""} ${e?"":ve.collapsed}`,onClick:()=>i(l.path),title:e?"":l.label,children:[n.jsx(T,{icon:l.icon,className:ve.navIcon}),e&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:ve.navLabel,children:l.label}),l.badge&&n.jsx("span",{className:ve.badge,children:l.badge})]})]},l.id))})},Or="UserProfile-module__userProfile___IJtGi",Br="UserProfile-module__avatar___3V-d-",kr="UserProfile-module__userInfo___W1SC3",Pr="UserProfile-module__userName___B9Urt",Gr="UserProfile-module__userEmail___RC75u",Re={userProfile:Or,avatar:Br,userInfo:kr,userName:Pr,userEmail:Gr},Ar=({isExpanded:e})=>n.jsxs("div",{className:Re.userProfile,children:[n.jsx("div",{className:Re.avatar,children:n.jsx("img",{src:"https://images.unsplash.com/photo-1624561172888-ac93c696e10c?ixlib=rb-1.2.1&auto=format&fit=crop&w=100&q=80",alt:"User avatar"})}),e&&n.jsxs("div",{className:Re.userInfo,children:[n.jsx("div",{className:Re.userName,children:"User"}),n.jsx("div",{className:Re.userEmail,children:"admin@gmail.com"})]})]}),Jn=b.createContext(void 0),Mt=()=>{const e=b.useContext(Jn);if(!e)throw new Error("useSideNav must be used within SideNavProvider");return e},Hr=({children:e})=>{const[t,s]=b.useState(!1);return n.jsx(Jn.Provider,{value:{isExpanded:t,setIsExpanded:s},children:e})},Ur=()=>{const[e,t]=b.useState(!1);return b.useEffect(()=>{const o=localStorage.getItem("theme"),r=window.matchMedia("(prefers-color-scheme: dark)").matches;(o==="dark"||!o&&r)&&(t(!0),document.body.classList.add("dark-theme"),document.body.style.backgroundColor="#1a1a1a")},[]),{isDarkMode:e,toggleTheme:()=>{const o=!e;t(o),o?(document.body.classList.add("dark-theme"),document.body.style.backgroundColor="#1a1a1a",localStorage.setItem("theme","dark")):(document.body.classList.remove("dark-theme"),document.body.style.backgroundColor="#ffffff",localStorage.setItem("theme","light"))}}},Vr="ThemeToggle-module__themeSwitcher___igwoH",qr="ThemeToggle-module__themeOption___fT8o3",zr="ThemeToggle-module__active___pzUtw",Wr="ThemeToggle-module__compactToggle___rS4mt",Jr="ThemeToggle-module__themeIcon___OlUlX",ue={themeSwitcher:Vr,themeOption:qr,active:zr,compactToggle:Wr,themeIcon:Jr},Xr=()=>{const{isDarkMode:e,toggleTheme:t}=Ur(),{isExpanded:s}=Mt();return n.jsx("div",{className:ue.themeSwitcher,children:s?n.jsxs(n.Fragment,{children:[n.jsxs("div",{className:`${ue.themeOption} ${e?ue.active:""}`,onClick:()=>e&&t(),children:[n.jsx(T,{icon:un,className:ue.themeIcon}),n.jsx("span",{children:"Светлая тема"})]}),n.jsxs("div",{className:`${ue.themeOption} ${e?"":ue.active}`,onClick:()=>!e&&t(),children:[n.jsx(T,{icon:dn,className:ue.themeIcon}),n.jsx("span",{children:"Темная тема"})]})]}):n.jsx("div",{className:ue.compactToggle,onClick:t,title:e?"Переключить на светлую тему":"Переключить на темную тему",children:n.jsx(T,{icon:e?un:dn,className:ue.themeIcon})})})},Kr="SideNav-module__sideNav___Zxbkx",Qr="SideNav-module__collapsed___cDdwi",Yr="SideNav-module__navContent___pKJ6d",Zr="SideNav-module__expanded___nMyJu",ea="SideNav-module__divider___oQKuf",Me={sideNav:Kr,collapsed:Qr,navContent:Yr,expanded:Zr,divider:ea},ta=()=>{const{isExpanded:e,setIsExpanded:t}=Mt(),s=()=>{t(!0)},o=()=>{t(!1)};return n.jsx("div",{className:`${Me.sideNav} ${e?Me.expanded:Me.collapsed}`,onMouseEnter:s,onMouseLeave:o,children:n.jsxs("div",{className:Me.navContent,children:[n.jsx(xr,{isExpanded:e}),n.jsx(Dr,{isExpanded:e}),n.jsx(Xr,{}),n.jsx("div",{className:Me.divider}),n.jsx(Ar,{isExpanded:e})]})})},na="Layout-module__layout___0B8hJ",sa="Layout-module__mainContent___M6gPI",oa="Layout-module__collapsed___PHaL3",ra="Layout-module__expanded___3JjGq",qe={layout:na,mainContent:sa,collapsed:oa,expanded:ra},aa=({children:e})=>{const{isExpanded:t}=Mt();return n.jsxs("div",{className:qe.layout,children:[n.jsx(ta,{}),n.jsx("main",{className:`${qe.mainContent} ${t?qe.expanded:qe.collapsed}`,children:e})]})},ia="Container-module__container___j8--p",la="Container-module__sm___UwC5i",ca="Container-module__md___XSYd-",da="Container-module__lg___5zVxl",ua="Container-module__full___-nqAs",mn={container:ia,sm:la,md:ca,lg:da,full:ua},Ce=({children:e,className:t="",size:s="full"})=>n.jsx("div",{className:`${mn.container} ${mn[s]} ${t}`,children:e}),ma="Typography-module__typography___tIJua",ha="Typography-module__h1___WwTe-",_a="Typography-module__h2___wkznA",pa="Typography-module__h3___O817m",ga="Typography-module__body___CyWt6",fa="Typography-module__caption___uMxHs",ba="Typography-module__primary___FVjkV",wa="Typography-module__secondary___RnjG6",va="Typography-module__accent___0d63o",ht={typography:ma,h1:ha,h2:_a,h3:pa,body:ga,caption:fa,primary:ba,secondary:wa,accent:va},hn=({variant:e="body",children:t,className:s="",color:o="primary"})=>{const r=e==="body"?"p":e;return n.jsx(r,{className:`${ht.typography} ${ht[e]} ${ht[o]} ${s}`,children:t})},xa={},ya=()=>n.jsx("div",{className:xa.home,children:n.jsxs(Ce,{children:[n.jsx(hn,{variant:"h1",children:"Добро пожаловать в Fenix"}),n.jsx(hn,{variant:"body",children:"Файлообменник для автомобильных прошивок"})]})}),Ca=e=>{const[t,s]=b.useState({isVisible:!1,isClosing:!1});return b.useEffect(()=>{setTimeout(()=>{s(r=>({...r,isVisible:!0}))},10)},[]),{animation:t,handleClose:()=>{s(r=>({...r,isClosing:!0})),setTimeout(()=>e(),300)}}},ja="Button-module__button___DzEjc",Sa="Button-module__loading___G-1Xm",Na="Button-module__primary___7f6-F",La="Button-module__disabled___pFoGM",Fa="Button-module__secondary___CzJhL",Ta="Button-module__ghost___tzobM",Ea="Button-module__danger___WT-8F",Ia="Button-module__sm___-F0Ts",$a="Button-module__md___OLF-6",Ra="Button-module__lg___jcLyv",Ma="Button-module__spinner___dxlL3",Da="Button-module__spin___XSBDM",Se={button:ja,loading:Sa,primary:Na,disabled:La,secondary:Fa,ghost:Ta,danger:Ea,sm:Ia,md:$a,lg:Ra,spinner:Ma,spin:Da},Oa=({variant:e="primary",size:t="md",children:s,onClick:o,disabled:r=!1,loading:a=!1,className:i="",type:l="button"})=>n.jsxs("button",{type:l,className:`
        ${Se.button} 
        ${Se[e]} 
        ${Se[t]} 
        ${r?Se.disabled:""}
        ${a?Se.loading:""}
        ${i}
      `,onClick:o,disabled:r||a,children:[a&&n.jsx("div",{className:Se.spinner}),s]}),Ba="FirmwareHeader-module__header___osJ57",ka="FirmwareHeader-module__headerContent___cMxGY",Pa="FirmwareHeader-module__priceSection___sY0Pf",Ga="FirmwareHeader-module__price___4JRpe",Aa="FirmwareHeader-module__buyButton___Wo2J7",Ha="FirmwareHeader-module__metaSection___7JHWB",Ua="FirmwareHeader-module__categoryBadgeWrapper___g2OFo",Va="FirmwareHeader-module__categoryBadge___w6mFA",qa="FirmwareHeader-module__metaInfo___yW3Tz",za="FirmwareHeader-module__carInfo___0bFRv",Wa="FirmwareHeader-module__firmwareMeta___2T87B",Ja="FirmwareHeader-module__title___3t2QP",Xa="FirmwareHeader-module__closeButton___q64Xc",q={header:Ba,headerContent:ka,priceSection:Pa,price:Ga,buyButton:Aa,metaSection:Ha,categoryBadgeWrapper:Ua,categoryBadge:Va,metaInfo:qa,carInfo:za,firmwareMeta:Wa,title:Ja,closeButton:Xa},Ka=({firmware:e,onClose:t,onBuy:s})=>n.jsxs("div",{className:q.header,children:[n.jsxs("div",{className:q.headerContent,children:[e.price&&n.jsxs("div",{className:q.priceSection,children:[n.jsxs("span",{className:q.price,children:[e.price," ₽"]}),n.jsx(Oa,{variant:"primary",className:q.buyButton,onClick:s,children:"Купить"})]}),n.jsxs("div",{className:q.metaSection,children:[n.jsxs("div",{className:q.categoryBadgeWrapper,children:[n.jsx("span",{className:q.categoryBadge,children:e.category}),n.jsxs("div",{className:q.metaInfo,children:[n.jsxs("div",{className:q.carInfo,children:[e.brand," ",e.model," • ",e.engine]}),n.jsxs("div",{className:q.firmwareMeta,children:[n.jsxs("span",{className:q.version,children:["Версия: ",e.version]}),n.jsxs("span",{className:q.rating,children:["★ ",e.rating]}),n.jsxs("span",{className:q.downloads,children:["📥 ",e.downloadCount]})]})]})]}),n.jsx("h2",{className:q.title,children:e.name})]})]}),n.jsx("button",{className:q.closeButton,onClick:t,children:n.jsx(T,{icon:Q,size:"lg"})})]}),Qa="FirmwareSpecs-module__specs___SelvH",Ya="FirmwareSpecs-module__specsGrid___Q6e6B",Za="FirmwareSpecs-module__specItem___PWIKI",ei="FirmwareSpecs-module__specLabel___vE--e",ti="FirmwareSpecs-module__specValue___76Cj6",De={specs:Qa,specsGrid:Ya,specItem:Za,specLabel:ei,specValue:ti},ni=({firmware:e})=>{const t=[{label:"Марка:",value:e.brand},{label:"Модель:",value:e.model},{label:"Двигатель:",value:e.engine},{label:"Тип топлива:",value:e.fuelType},{label:"Категория:",value:e.category},{label:"Мощность (до/после):",value:`${e.originalHorsepower} → ${e.tunedHorsepower} л.с.`},{label:"Крутящий момент (до/после):",value:`${e.originalTorque} → ${e.tunedTorque} Н·м`},{label:"Прирост:",value:`+${e.horsepowerGain} л.с. / +${e.torqueGain} Н·м`},{label:"Изменение расхода:",value:e.fuelConsumptionChange}];return n.jsxs("div",{className:De.specs,children:[n.jsx("h3",{children:"Характеристики"}),n.jsx("div",{className:De.specsGrid,children:t.map((s,o)=>n.jsxs("div",{className:De.specItem,children:[n.jsx("span",{className:De.specLabel,children:s.label}),n.jsx("span",{className:De.specValue,children:s.value})]},o))})]})},si={},oi=({firmware:e})=>{var t;return(t=e.requiredHardware)!=null&&t.length?n.jsxs("div",{className:si.requirements,children:[n.jsx("h3",{children:"Необходимое оборудование"}),n.jsx("ul",{children:e.requiredHardware.map((s,o)=>n.jsx("li",{children:s},o))})]}):null},W={},ri=({firmware:e})=>n.jsxs("div",{className:W.sidebar,children:[n.jsx("div",{className:W.sidebarCard,children:n.jsxs("div",{className:W.authorInfo,children:[n.jsx("h3",{children:"Автор"}),n.jsx("p",{children:e.author||"Не указан"})]})}),n.jsx("div",{className:W.sidebarCard,children:n.jsxs("div",{className:W.fileInfo,children:[n.jsx("h3",{children:"Информация о файле"}),n.jsxs("div",{className:W.fileDetails,children:[n.jsx("span",{children:"Размер:"}),n.jsxs("span",{children:[e.fileSize," MB"]})]}),n.jsxs("div",{className:W.fileDetails,children:[n.jsx("span",{children:"Имя файла:"}),n.jsx("span",{children:e.fileName})]}),n.jsxs("div",{className:W.fileDetails,children:[n.jsx("span",{children:"Статус:"}),n.jsx("span",{children:e.status==="verified"?"Проверено":"На проверке"})]}),n.jsxs("div",{className:W.fileDetails,children:[n.jsx("span",{children:"Обновлено:"}),n.jsx("span",{children:e.lastUpdated.toLocaleDateString()})]})]})}),e.recommendedTuningTools&&e.recommendedTuningTools.length>0&&n.jsx("div",{className:W.sidebarCard,children:n.jsxs("div",{className:W.toolsInfo,children:[n.jsx("h3",{children:"Рекомендуемые инструменты"}),n.jsx("ul",{children:e.recommendedTuningTools.map((t,s)=>n.jsx("li",{children:t},s))})]})}),e.knownIssues&&n.jsx("div",{className:W.sidebarCard,children:n.jsxs("div",{className:W.knownIssues,children:[n.jsx("h3",{children:"Известные проблемы"}),n.jsx("p",{children:e.knownIssues})]})}),e.installationInstructions&&n.jsx("div",{className:W.sidebarCard,children:n.jsxs("div",{className:W.installationInfo,children:[n.jsx("h3",{children:"Инструкция по установке"}),n.jsx("p",{children:e.installationInstructions})]})})]}),ai="FirmwareDetail-module__overlay___KJKS8",ii="FirmwareDetail-module__visible___I70RE",li="FirmwareDetail-module__closing___iERIk",ci="FirmwareDetail-module__modal___0uIQi",di="FirmwareDetail-module__content___4asiz",ui="FirmwareDetail-module__mainContent___MgXoB",mi="FirmwareDetail-module__mainCard___bafYp",hi="FirmwareDetail-module__description___l-QMy",_i="FirmwareDetail-module__compatibility___dBMB7",pi="FirmwareDetail-module__changelog___tL2y6",Z={overlay:ai,visible:ii,closing:li,modal:ci,content:di,mainContent:ui,mainCard:mi,description:hi,compatibility:_i,changelog:pi},gi=({firmware:e,onClose:t,onBuy:s})=>{const{animation:o,handleClose:r}=Ca(t),a=()=>{s(e)},i=`
    ${Z.modal} 
    ${o.isVisible?Z.visible:""} 
    ${o.isClosing?Z.closing:""}
  `,l=`
    ${Z.overlay} 
    ${o.isVisible?Z.visible:""} 
    ${o.isClosing?Z.closing:""}
  `;return n.jsx("div",{className:l,children:n.jsxs("div",{className:i,children:[n.jsx(Ka,{firmware:e,onClose:r,onBuy:a}),n.jsxs("div",{className:Z.content,children:[n.jsx("div",{className:Z.mainContent,children:n.jsxs("div",{className:Z.mainCard,children:[n.jsxs("div",{className:Z.description,children:[n.jsx("h3",{children:"Описание"}),n.jsx("p",{children:e.description})]}),n.jsx(ni,{firmware:e}),e.requiredHardware&&e.requiredHardware.length>0&&n.jsx(oi,{firmware:e}),e.compatibilityNotes&&n.jsxs("div",{className:Z.compatibility,children:[n.jsx("h3",{children:"Совместимость"}),n.jsx("p",{children:e.compatibilityNotes})]}),e.changelog&&n.jsxs("div",{className:Z.changelog,children:[n.jsx("h3",{children:"История изменений"}),n.jsx("pre",{children:e.changelog})]})]})}),n.jsx(ri,{firmware:e})]})]})})},Xn=[{id:1,name:"Audi",logo:"https://www.carlogos.org/car-logos/audi-logo.png"},{id:2,name:"BMW",logo:"https://www.carlogos.org/car-logos/bmw-logo.png"},{id:3,name:"Mercedes-Benz",logo:"https://www.carlogos.org/car-logos/mercedes-benz-logo.png"},{id:4,name:"Volkswagen",logo:"https://www.carlogos.org/car-logos/volkswagen-logo.png"},{id:5,name:"Toyota",logo:"https://www.carlogos.org/car-logos/toyota-logo.png"},{id:6,name:"Honda",logo:"https://www.carlogos.org/car-logos/honda-logo.png"},{id:7,name:"Ford",logo:"https://www.carlogos.org/car-logos/ford-logo.png"},{id:8,name:"Chevrolet",logo:"https://www.carlogos.org/car-logos/chevrolet-logo.png"},{id:9,name:"Nissan",logo:"https://www.carlogos.org/car-logos/nissan-logo.png"},{id:10,name:"Hyundai",logo:"https://www.carlogos.org/car-logos/hyundai-logo.png"},{id:11,name:"Kia",logo:"https://www.carlogos.org/car-logos/kia-logo.png"},{id:12,name:"Volvo",logo:"https://www.carlogos.org/car-logos/volvo-logo.png"},{id:13,name:"Mazda",logo:"https://www.carlogos.org/car-logos/mazda-logo.png"},{id:14,name:"Subaru",logo:"https://www.carlogos.org/car-logos/subaru-logo.png"},{id:15,name:"Lexus",logo:"https://www.carlogos.org/car-logos/lexus-logo.png"},{id:16,name:"Jeep",logo:"https://www.carlogos.org/car-logos/jeep-logo.png"},{id:17,name:"Porsche",logo:"https://www.carlogos.org/car-logos/porsche-logo.png"},{id:18,name:"Ferrari",logo:"https://www.carlogos.org/car-logos/ferrari-logo.png"},{id:19,name:"Lamborghini",logo:"https://www.carlogos.org/car-logos/lamborghini-logo.png"},{id:20,name:"Tesla",logo:"https://www.carlogos.org/car-logos/tesla-logo.png"},{id:21,name:"Cadillac",logo:"https://www.carlogos.org/car-logos/cadillac-logo.png"},{id:22,name:"Jaguar",logo:"https://www.carlogos.org/car-logos/jaguar-logo.png"},{id:23,name:"Land Rover",logo:"https://www.carlogos.org/car-logos/land-rover-logo.png"},{id:24,name:"Mitsubishi",logo:"https://www.carlogos.org/car-logos/mitsubishi-logo.png"},{id:25,name:"Chrysler",logo:"https://www.carlogos.org/car-logos/chrysler-logo.png"},{id:26,name:"Dodge",logo:"https://www.carlogos.org/car-logos/dodge-logo.png"},{id:27,name:"Ram",logo:"https://www.carlogos.org/car-logos/ram-logo.png"},{id:28,name:"Buick",logo:"https://www.carlogos.org/car-logos/buick-logo.png"},{id:29,name:"GMC",logo:"https://www.carlogos.org/car-logos/gmc-logo.png"},{id:30,name:"Acura",logo:"https://www.carlogos.org/car-logos/acura-logo.png"},{id:31,name:"Infiniti",logo:"https://www.carlogos.org/car-logos/infiniti-logo.png"},{id:32,name:"Lincoln",logo:"https://www.carlogos.org/car-logos/lincoln-logo.png"},{id:33,name:"Mini",logo:"https://www.carlogos.org/car-logos/mini-logo.png"},{id:34,name:"Bentley",logo:"https://www.carlogos.org/car-logos/bentley-logo.png"},{id:35,name:"Maserati",logo:"https://www.carlogos.org/car-logos/maserati-logo.png"},{id:36,name:"Rolls-Royce",logo:"https://www.carlogos.org/car-logos/rolls-royce-logo.png"},{id:37,name:"McLaren",logo:"https://www.carlogos.org/car-logos/mclaren-logo.png"},{id:38,name:"Bugatti",logo:"https://www.carlogos.org/car-logos/bugatti-logo.png"},{id:39,name:"Genesis",logo:"https://www.carlogos.org/car-logos/genesis-logo.png"},{id:40,name:"Alfa Romeo",logo:"https://www.carlogos.org/car-logos/alfa-romeo-logo.png"},{id:41,name:"Fiat",logo:"https://www.carlogos.org/car-logos/fiat-logo.png"},{id:42,name:"Peugeot",logo:"https://www.carlogos.org/car-logos/peugeot-logo.png"},{id:43,name:"Renault",logo:"https://www.carlogos.org/car-logos/renault-logo.png"},{id:44,name:"Citroën",logo:"https://www.carlogos.org/car-logos/citroen-logo.png"},{id:45,name:"DS Automobiles",logo:"https://www.carlogos.org/car-logos/ds-logo.png"},{id:46,name:"Opel",logo:"https://www.carlogos.org/car-logos/opel-logo.png"},{id:47,name:"Saab",logo:"https://www.carlogos.org/car-logos/saab-logo.png"},{id:48,name:"Skoda",logo:"https://www.carlogos.org/car-logos/skoda-logo.png"},{id:49,name:"Seat",logo:"https://www.carlogos.org/car-logos/seat-logo.png"},{id:50,name:"Suzuki",logo:"https://www.carlogos.org/car-logos/suzuki-logo.png"}],me={brand:"BMW",models:[{id:1,name:"1 Series",generations:[{years:"2019-2023",body:"F40",engines:["118i (1.5L Turbo, 140 hp)","120i (2.0L Turbo, 178 hp)","128ti (2.0L Turbo, 265 hp)","M135i (2.0L Turbo, 306 hp)"]},{years:"2011-2019",body:"F20/F21",engines:["114i (1.6L Turbo, 102 hp)","116i (1.6L Turbo, 136 hp)","118i (1.6L Turbo, 170 hp)","120i (2.0L Turbo, 184 hp)","M140i (3.0L Turbo, 340 hp)"]},{years:"2004-2013",body:"E81/E82/E87/E88",engines:["116i (1.6L, 116 hp)","118i (2.0L, 136 hp)","120i (2.0L, 170 hp)","130i (3.0L, 265 hp)","M Coupe (3.0L Turbo, 340 hp)"]}]},{id:2,name:"2 Series",generations:[{years:"2022-2023",body:"G42",engines:["220i (2.0L Turbo, 184 hp)","230i (2.0L Turbo, 245 hp)","M240i (3.0L Turbo, 374 hp)"]},{years:"2014-2021",body:"F22/F23",engines:["218i (1.5L Turbo, 136 hp)","220i (2.0L Turbo, 184 hp)","230i (2.0L Turbo, 252 hp)","M240i (3.0L Turbo, 340 hp)","M2 (3.0L Turbo, 370-410 hp)"]},{years:"2014-2021",body:"F45/F46 (Active/Gran Tourer)",engines:["216i (1.5L Turbo, 116 hp)","218i (1.5L Turbo, 136 hp)","225xe (1.5L Turbo PHEV, 224 hp)"]}]},{id:3,name:"3 Series",generations:[{years:"2019-2023",body:"G20",engines:["320i (2.0L Turbo, 184 hp)","330i (2.0L Turbo, 255 hp)","M340i (3.0L Turbo, 382 hp)"]},{years:"2012-2019",body:"F30/F31",engines:["316i (1.6L Turbo, 136 hp)","320i (2.0L Turbo, 184 hp)","328i (2.0L Turbo, 245 hp)","335i (3.0L Turbo, 306 hp)"]},{years:"2005-2013",body:"E90/E91/E92/E93",engines:["318i (2.0L, 129 hp)","320i (2.0L, 156 hp)","325i (2.5L, 218 hp)","330i (3.0L, 258 hp)","335i (3.0L Twin-Turbo, 306 hp)","M3 (4.0L V8, 420 hp)"]},{years:"1998-2006",body:"E46",engines:["318i (2.0L, 118 hp)","320i (2.2L, 170 hp)","325i (2.5L, 192 hp)","330i (3.0L, 231 hp)","M3 (3.2L, 343 hp)"]},{years:"1990-2000",body:"E36",engines:["316i (1.6L, 102 hp)","318i (1.8L, 115 hp)","320i (2.0L, 150 hp)","325i (2.5L, 192 hp)","328i (2.8L, 193 hp)","M3 (3.0L, 286 hp)"]},{years:"1982-1994",body:"E30",engines:["316i (1.6L, 102 hp)","318i (1.8L, 115 hp)","320i (2.0L, 129 hp)","325i (2.5L, 171 hp)","M3 (2.3L, 192-238 hp)"]}]},{id:4,name:"4 Series",generations:[{years:"2020-2023",body:"G22/G23/G26",engines:["420i (2.0L Turbo, 184 hp)","430i (2.0L Turbo, 258 hp)","440i (3.0L Turbo, 374 hp)","M440i (3.0L Turbo, 374 hp)","M4 (3.0L Turbo, 480-510 hp)"]},{years:"2013-2020",body:"F32/F33/F36",engines:["420i (2.0L Turbo, 184 hp)","428i (2.0L Turbo, 245 hp)","435i (3.0L Turbo, 306 hp)","440i (3.0L Turbo, 326 hp)","M4 (3.0L Turbo, 431-450 hp)"]}]},{id:5,name:"5 Series",generations:[{years:"2017-2023",body:"G30/G31",engines:["520i (2.0L Turbo, 184 hp)","530i (2.0L Turbo, 252 hp)","540i (3.0L Turbo, 340 hp)","M550i (4.4L V8 Turbo, 530 hp)"]},{years:"2010-2017",body:"F10/F11/F07",engines:["520i (2.0L Turbo, 184 hp)","528i (2.0L Turbo, 245 hp)","535i (3.0L Turbo, 306 hp)","550i (4.4L V8 Turbo, 450 hp)"]},{years:"2003-2010",body:"E60/E61",engines:["520i (2.2L, 170 hp)","525i (2.5L, 218 hp)","530i (3.0L, 258 hp)","545i (4.4L V8, 333 hp)","M5 (5.0L V10, 507 hp)"]},{years:"1995-2003",body:"E39",engines:["520i (2.2L, 170 hp)","523i (2.5L, 170 hp)","528i (2.8L, 193 hp)","530i (3.0L, 231 hp)","540i (4.4L V8, 286 hp)","M5 (4.9L V8, 400 hp)"]},{years:"1988-1996",body:"E34",engines:["518i (1.8L, 113 hp)","520i (2.0L, 150 hp)","525i (2.5L, 192 hp)","530i (3.0L, 218 hp)","535i (3.5L, 218 hp)","540i (4.0L V8, 286 hp)","M5 (3.6L, 315 hp)"]}]},{id:6,name:"6 Series",generations:[{years:"2018-2023",body:"G32 (Gran Turismo)",engines:["630i (2.0L Turbo, 258 hp)","640i (3.0L Turbo, 340 hp)"]},{years:"2011-2017",body:"F06/F12/F13",engines:["640i (3.0L Turbo, 320 hp)","650i (4.4L V8 Turbo, 450 hp)","M6 (4.4L V8 Turbo, 560 hp)"]},{years:"2004-2010",body:"E63/E64",engines:["630i (3.0L, 258 hp)","645i (4.4L V8, 333 hp)","650i (4.8L V8, 367 hp)","M6 (5.0L V10, 507 hp)"]}]},{id:7,name:"7 Series",generations:[{years:"2023-...",body:"G70",engines:["735i (3.0L Turbo, 286 hp)","740i (3.0L Turbo, 381 hp)","760i (4.4L V8 Turbo, 537 hp)"]},{years:"2016-2022",body:"G11/G12",engines:["730i (2.0L Turbo, 258 hp)","740i (3.0L Turbo, 326 hp)","750i (4.4L V8 Turbo, 450 hp)","M760i (6.6L V12, 610 hp)"]},{years:"2009-2015",body:"F01/F02/F03/F04",engines:["730i (3.0L, 272 hp)","740i (3.0L Turbo, 326 hp)","750i (4.4L V8 Turbo, 450 hp)","760i (6.0L V12, 544 hp)"]},{years:"2002-2008",body:"E65/E66/E67/E68",engines:["730i (3.0L, 231 hp)","735i (3.6L, 272 hp)","745i (4.4L V8, 333 hp)","760i (6.0L V12, 445 hp)"]},{years:"1994-2001",body:"E38",engines:["728i (2.8L, 193 hp)","735i (3.5L, 235 hp)","740i (4.4L V8, 286 hp)","750i (5.4L V12, 326 hp)"]}]},{id:8,name:"8 Series",generations:[{years:"2018-2023",body:"G14/G15/G16",engines:["840i (3.0L Turbo, 340 hp)","850i (4.4L V8 Turbo, 530 hp)","M8 (4.4L V8 Turbo, 600 hp)"]},{years:"1990-1999",body:"E31",engines:["840i (4.4L V8, 286 hp)","850i (5.0L V12, 300 hp)","850CSi (5.6L V12, 380 hp)"]}]},{id:9,name:"X1",generations:[{years:"2022-2023",body:"U11",engines:["xDrive20i (2.0L Turbo, 170 hp)","xDrive23i (2.0L Turbo, 218 hp)","xDrive30e (PHEV, 326 hp)"]},{years:"2015-2022",body:"F48",engines:["sDrive18i (1.5L Turbo, 136 hp)","xDrive20i (2.0L Turbo, 192 hp)","xDrive25d (2.0L Diesel, 231 hp)"]},{years:"2009-2015",body:"E84",engines:["sDrive18i (2.0L, 143 hp)","xDrive20i (2.0L Turbo, 184 hp)","xDrive28i (3.0L, 258 hp)"]}]},{id:10,name:"X2",generations:[{years:"2017-2023",body:"F39",engines:["sDrive18i (1.5L Turbo, 140 hp)","xDrive20i (2.0L Turbo, 192 hp)","M35i (2.0L Turbo, 306 hp)"]}]},{id:11,name:"X3",generations:[{years:"2018-2023",body:"G01",engines:["xDrive20i (2.0L Turbo, 184 hp)","xDrive30i (2.0L Turbo, 252 hp)","M40i (3.0L Turbo, 360 hp)"]},{years:"2011-2017",body:"F25",engines:["xDrive20i (2.0L Turbo, 184 hp)","xDrive28i (2.0L Turbo, 245 hp)","xDrive35i (3.0L Turbo, 306 hp)"]},{years:"2004-2010",body:"E83",engines:["2.0i (2.0L, 150 hp)","2.5i (2.5L, 218 hp)","3.0i (3.0L, 231 hp)"]}]},{id:12,name:"X4",generations:[{years:"2018-2023",body:"G02",engines:["xDrive20i (2.0L Turbo, 184 hp)","xDrive30i (2.0L Turbo, 252 hp)","M40i (3.0L Turbo, 360 hp)"]},{years:"2014-2018",body:"F26",engines:["xDrive20i (2.0L Turbo, 184 hp)","xDrive28i (2.0L Turbo, 245 hp)","xDrive35i (3.0L Turbo, 306 hp)"]}]},{id:13,name:"X5",generations:[{years:"2019-2023",body:"G05",engines:["xDrive40i (3.0L Turbo, 340 hp)","xDrive50i (4.4L V8 Turbo, 462 hp)","M50i (4.4L V8 Turbo, 523 hp)"]},{years:"2014-2018",body:"F15/F16",engines:["xDrive35i (3.0L Turbo, 306 hp)","xDrive50i (4.4L V8 Turbo, 450 hp)","M50d (3.0L Diesel, 400 hp)"]},{years:"2007-2013",body:"E70/E71/E72",engines:["xDrive35i (3.0L Turbo, 306 hp)","xDrive50i (4.4L V8 Turbo, 407 hp)","X5 M (4.4L V8 Turbo, 555 hp)"]},{years:"2000-2006",body:"E53",engines:["3.0i (3.0L, 231 hp)","4.4i (4.4L V8, 286 hp)","4.8is (4.8L V8, 360 hp)"]}]},{id:14,name:"X6",generations:[{years:"2020-2023",body:"G06",engines:["xDrive40i (3.0L Turbo, 340 hp)","M50i (4.4L V8 Turbo, 530 hp)"]},{years:"2015-2019",body:"F16",engines:["xDrive35i (3.0L Turbo, 306 hp)","xDrive50i (4.4L V8 Turbo, 450 hp)"]}]},{id:15,name:"X7",generations:[{years:"2019-2023",body:"G07",engines:["xDrive40i (3.0L Turbo, 340 hp)","xDrive50i (4.4L V8 Turbo, 462 hp)","M50i (4.4L V8 Turbo, 523 hp)"]}]},{id:16,name:"Z3",generations:[{years:"1996-2002",body:"E36/7",engines:["1.8i (1.8L, 115 hp)","2.8i (2.8L, 193 hp)","M Roadster (3.2L, 240 hp)"]}]},{id:17,name:"Z4",generations:[{years:"2019-2023",body:"G29",engines:["sDrive20i (2.0L Turbo, 197 hp)","sDrive30i (2.0L Turbo, 258 hp)","M40i (3.0L Turbo, 340 hp)"]},{years:"2009-2016",body:"E89",engines:["sDrive20i (2.0L Turbo, 184 hp)","sDrive35i (3.0L Turbo, 306 hp)"]},{years:"2002-2008",body:"E85/E86",engines:["2.5i (2.5L, 192 hp)","3.0i (3.0L, 231 hp)","M Roadster (3.2L, 343 hp)"]}]},{id:18,name:"i3",generations:[{years:"2013-2022",body:"I01",engines:["i3 (170 hp)","i3s (184 hp)","i3 REx (range extender)"]}]},{id:19,name:"i4",generations:[{years:"2021-2023",body:"G26",engines:["eDrive40 (340 hp)","M50 (544 hp)"]}]},{id:20,name:"i7",generations:[{years:"2022-2023",body:"G70",engines:["i7 xDrive60 (544 hp)","i7 M70 (660 hp)"]}]},{id:21,name:"i8",generations:[{years:"2014-2020",body:"I12",engines:["i8 (1.5L Turbo PHEV, 362 hp)"]}]},{id:22,name:"M Models",generations:[{years:"2015-2022",body:"F90 M5",engines:["M5 (4.4L V8 Turbo, 600 hp)","M5 Competition (4.4L V8 Turbo, 625 hp)"]},{years:"2014-2020",body:"F82/F83 M4",engines:["M4 (3.0L Turbo, 431 hp)","M4 Competition (3.0L Turbo, 450 hp)"]},{years:"2005-2013",body:"E60/E61 M5",engines:["M5 (5.0L V10, 507 hp)"]},{years:"2000-2006",body:"E46 M3",engines:["M3 (3.2L, 343 hp)"]},{years:"2018-2023",body:"F90 M5",engines:["M5 (4.4L V8 Turbo, 600 hp)","M5 Competition (4.4L V8 Turbo, 625 hp)"]},{years:"2019-2023",body:"X3 M/X4 M",engines:["X3 M (3.0L Turbo, 480 hp)","X3 M Competition (3.0L Turbo, 510 hp)"]},{years:"2020-2023",body:"X5 M/X6 M",engines:["X5 M (4.4L V8 Turbo, 600 hp)","X5 M Competition (4.4L V8 Turbo, 625 hp)"]},{years:"1986-1991",body:"E30 M3",engines:["M3 (2.3L, 192-238 hp)"]}]}]};class _n{constructor(t){Gt(this,"seed");this.seed=this.hashString(t)}hashString(t){let s=0;for(let o=0;o<t.length;o++){const r=t.charCodeAt(o);s=(s<<5)-s+r,s=s&s}return Math.abs(s)}random(){const t=Math.sin(this.seed++)*1e4;return t-Math.floor(t)}randomInRange(t,s){return Math.floor(this.random()*(s-t+1))+t}randomElement(t){return t[this.randomInRange(0,t.length-1)]}randomSample(t,s){return[...t].sort(()=>this.random()-.5).slice(0,s)}}const fi=(e,t)=>{const o={Stage1:15e3,Stage2:25e3,Stage3:4e4,E85:18e3,DPFoff:12e3,EGRoff:1e4,IMMOoff:8e3,ADBLUEoff:15e3,SAPoff:9e3,EVAPoff:7e3,Custom:3e4,Eco:1e4,Valet:5e3,Race:35e3,ST1:8e3,Std:5e3,E2:6e3}[e]||1e4,r=t.randomInRange(-2e3,2e3);return o+r},tt={Stage1:"Stage1 - При использовании прошивок Stage1, никаких механических доработок двигателя, впуска или выпуска не требуется.",Stage2:"Stage2 - прошивка для двигателя с доработанным железом: интеркулер, выхлопная система, воздушный фильтр.",Stage3:"Stage3 - максимальный тюнинг с серьезными доработками двигателя, турбины и других компонентов.",E85:"E85 - прошивка для работы на биоэтаноле (смесь 85% этанола и 15% бензина).",DPFoff:"DPFoff - прошивка с отключенной системой сажевого фильтра.",EGRoff:"EGRoff - прошивка с отключенной системой ЕГР.",IMMOoff:"IMMOoff - прошивка с отключенным опросом иммобилайзера.",ADBLUEoff:"ADBLUEoff - прошивка с отключенной системой подачи мочевины.",SAPoff:"SAPoff - прошивка с отключенной системой вторичного воздуха.",EVAPoff:"EVAPoff - прошивка с отключенной системой адсорбера.",Custom:"Custom - кастомная прошивка под индивидуальные требования.",Eco:"Eco - эко-прошивка для снижения расхода топлива.",Valet:"Valet - валет-режим с ограничением мощности.",Race:"Race - гоночная прошивка для трека.",ST1:"ST1 - прошивки на бензиновые атмосферные двигателя, где программный тюнинг не дает ощутимого прироста мощности, но улучшает отзывчивость и динамику.",Std:"Std - стандартная заводская прошивка, без улучшения силовых характеристик двигателя.",E2:"E2 - (Евро-2) - прошивка с отключенным контролем катализатора и отключенным задним датчиком кислорода."},bi=["Механическая","Автоматическая","CVT","DSG/S-Tronic"],wi=["KESSv2","MPPS v16","K-TAG","MPPS","ODIS","VCDS"],vi=["Иван Петров","Алексей Смирнов","Сергей Козлов","Дмитрий Волков"],xi=["verified","pending","rejected"],yi=e=>{const t=e.match(/(\d+)\s*hp/);return t?parseInt(t[1],10):150},Ci=e=>e.toLowerCase().includes("diesel")?"Дизель":e.toLowerCase().includes("petrol")||e.toLowerCase().includes("gasoline")?"Бензин":e.toLowerCase().includes("hybrid")?"Гибрид":Math.random()>.5?"Бензин":"Дизель",ji=()=>{const e=[];let t=1;return me.models.forEach(s=>{s.generations.forEach(o=>{o.engines.forEach(r=>{const a=`firmware-${s.name}-${o.body}-${r}`,i=new _n(a),l=Object.keys(tt);i.randomSample(l,i.randomInRange(2,4)).forEach(c=>{const d=yi(r),f=`${a}-${c}`,g=new _n(f),w=c==="Stage1"?g.randomInRange(30,60):c==="Stage2"?g.randomInRange(60,100):c==="Stage3"?g.randomInRange(100,150):c==="Eco"?g.randomInRange(5,15):g.randomInRange(10,40),h=Math.round(w*1.5),p=Ci(r),_=fi(c,g),v={id:t++,name:`${me.brand} ${r.split(" ")[0]} ${c}`,description:`${tt[c]}

Применение: ${me.brand} ${s.name} ${o.years} ${o.body}, двигатель: ${r}`,uploadDate:new Date(Date.now()-g.randomInRange(0,365*2*24*60*60*1e3)),version:`${g.randomInRange(1,2)}.${g.randomInRange(0,5)}`,brand:me.brand,model:s.name,engine:r,category:c,fileSize:Math.round(g.randomInRange(15,35)/10*10)/10,downloadCount:g.randomInRange(0,300),rating:Math.round(g.randomInRange(35,50)/10*10)/10,isPublic:g.randomInRange(0,10)>3,horsepowerGain:w,torqueGain:h,fuelType:p,originalHorsepower:d,tunedHorsepower:d+w,originalTorque:Math.round(d*1.8),tunedTorque:Math.round(d*1.8)+h,fuelConsumptionChange:c==="Eco"?`-${g.randomInRange(5,15)}%`:g.randomInRange(0,10)>5?`+${g.randomInRange(0,10)}%`:`-${g.randomInRange(0,5)}%`,requiredHardware:c==="Stage2"||c==="Stage3"?["Увеличенный интеркулер","Спорт выхлоп"]:[],compatibilityNotes:`Только для ${o.years} ${o.body} с двигателем ${r.split(" ")[0]}`,changelog:"v1.0 - Первоначальный релиз",author:g.randomElement(vi),supportedECUs:["ECU"+g.randomInRange(1e3,9999)],status:g.randomElement(xi),lastUpdated:new Date(Date.now()-g.randomInRange(0,180*24*60*60*1e3)),fileName:`${me.brand.toLowerCase()}_${r.split(" ")[0].toLowerCase()}_${c.toLowerCase()}_v1.0.bin`,isEncrypted:g.randomInRange(0,10)>7,requiresUnlockCode:g.randomInRange(0,10)>5,recommendedTuningTools:[g.randomElement(wi)],knownIssues:g.randomInRange(0,10)>8?"Возможны незначительные колебания на холостом ходу":void 0,installationInstructions:g.randomInRange(0,10)>5?"Прошивка через OBDII разъем":"Требуется снятие и вскрытие ЭБУ",testedVehicles:[`${me.brand} ${s.name} ${o.years}`],supportedYears:o.years,transmissionType:g.randomElement(bi),price:_};e.push(v)})})})}),e},be=ji(),Si=e=>be.filter(t=>t.brand===e).length,Ni=(e,t)=>be.filter(s=>s.brand===e&&s.model===t).length,Li=(e,t,s)=>be.filter(o=>{var r;return o.brand===e&&o.model===t&&((r=o.description)==null?void 0:r.includes(s))}).length,Fi=e=>be.filter(t=>t.engine===e).length,Ti=()=>Object.keys(tt),Ei=e=>tt[e]||"Описание недоступно",Kn={Stage1:"Stage1 - При использовании прошивок Stage1, никаких механических доработок двигателя, впуска или выпуска не требуется.",Stage2:"Stage2 - прошивка для двигателя с доработанным железом: интеркулер, выхлопная система, воздушный фильтр.",Stage3:"Stage3 - максимальный тюнинг с серьезными доработками двигателя, турбины и других компонентов.",Stage4:"Stage4 - экстремальный тюнинг для профессионального использования с максимальными доработками.",E85:"E85 - прошивка для работы на биоэтаноле (смесь 85% этанола и 15% бензина).",DPFoff:"DPFoff - прошивка с отключенной системой сажевого фильтра.",EGRoff:"EGRoff - прошивка с отключенной системой ЕГР.",IMMOoff:"IMMOoff - прошивка с отключенным опросом иммобилайзера.",ADBLUEoff:"ADBLUEoff - прошивка с отключенной системой подачи мочевины.",SAPoff:"SAPoff - прошивка с отключенной системой вторичного воздуха.",EVAPoff:"EVAPoff - прошивка с отключенной системой адсорбера.",Custom:"Custom - кастомная прошивка под индивидуальные требования.",Eco:"Eco - эко-прошивка для снижения расхода топлива.",Valet:"Valet - валет-режим с ограничением мощности.",Race:"Race - гоночная прошивка для трека.",ST1:"ST1 - прошивки на бензиновые атмосферные двигателя, где программный тюнинг не дает ощутимого прироста мощности, но улучшает отзывчивость и динамику.",Std:"Std - стандартная заводская прошивка, без улучшения силовых характеристик двигателя.",E2:"E2 - (Евро-2) - прошивка с отключенным контролем катализатора и отключенным задним датчиком кислорода."},Ii=e=>Kn[e]||"Описание недоступно",$i=()=>{const e=[];let t=1;const s=Object.keys(Kn);return me.models.forEach(o=>{o.generations.forEach(r=>{r.engines.forEach(a=>{s.forEach(i=>{e.push({id:t++,name:`${i} ${a.split(" ")[0]} ${o.name} ${r.years}`,description:`${Ii(i)}`,category:i,engineCode:a})})})})}),e},Ri=$i(),Mi=e=>Ri.filter(t=>t.engineCode===e),Qn=()=>["Stage1","Stage2","Stage3","Stage4","DPF Off","EGR Off","AdBlue Off","TCU","Custom"],Di=()=>{const e=[],t=Qn(),s=["pending","approved","rejected"],o=["Иван Петров","Алексей Смирнов","Сергей Козлов","Дмитрий Волков"];let r=1;return me.models.forEach(a=>{a.generations.forEach(i=>{i.engines.forEach(l=>{t.forEach((m,c)=>{const d=s[c%s.length],f=150+Math.floor(Math.random()*100),g=20+Math.floor(Math.random()*40),w={id:r++,name:`${m} ${l.split(" ")[0]} ${a.name}`,description:`Прошивка ${m} для ${a.name} ${i.years} с двигателем ${l}. Улучшает производительность и отзывчивость.`,fileName:`${m.toLowerCase()}_${l.split(" ")[0].toLowerCase()}_v1.0.bin`,fileSize:Math.round((Math.random()*20+5)*100)/100,uploadDate:new Date(Date.now()-Math.random()*30*24*60*60*1e3),status:d,statusUpdateDate:d!=="pending"?new Date(Date.now()-Math.random()*7*24*60*60*1e3):void 0,rejectionReason:d==="rejected"?"Несоответствие требованиям качества":void 0,category:m,brand:"BMW",model:a.name,engine:l,version:"1.0",downloadCount:Math.floor(Math.random()*100),rating:Math.round((Math.random()*2+3)*10)/10,isPublic:d==="approved",author:o[Math.floor(Math.random()*o.length)],originalHorsepower:f,tunedHorsepower:f+g,horsepowerGain:g,originalTorque:Math.round(f*1.8),tunedTorque:Math.round(f*1.8)+Math.round(g*1.5),torqueGain:Math.round(g*1.5),fuelType:Math.random()>.5?"Бензин":"Дизель",fuelConsumptionChange:Math.random()>.5?`-${Math.floor(Math.random()*10)+5}%`:`+${Math.floor(Math.random()*5)}%`,requiredHardware:["Стандартное оборудование"],compatibilityNotes:`Только для ${i.years} ${i.body}`,changelog:"v1.0 - Первоначальный релиз",supportedECUs:[`ECU${Math.floor(Math.random()*9e3)+1e3}`],supportedYears:i.years,transmissionType:Math.random()>.5?"Автоматическая":"Механическая",isEncrypted:Math.random()>.7,requiresUnlockCode:Math.random()>.5,recommendedTuningTools:["KESSv2","MPPS v16"],knownIssues:Math.random()>.8?"Возможны незначительные колебания на холостом ходу":void 0,installationInstructions:"Прошивка через OBDII разъем",testedVehicles:[`BMW ${a.name} ${i.years}`]};e.push(w)})})})}),e},Yn=Di(),Oi=()=>{const e=Yn.map(t=>t.category);return["all",...Array.from(new Set(e))]},Bi=()=>{const[e,t]=b.useState({searchTerms:{brands:"",models:"",generations:"",engines:"",tuning:"",firmware:""},selectedBrand:null,selectedModel:null,selectedGeneration:null,selectedEngine:null,selectedTuningOption:null,selectedFirmware:null,viewMode:"brands"}),[s,o]=b.useState({brand:!1,model:!1,generation:!1,engine:!1,tuningOption:!1,firmware:!1}),r=b.useCallback((_,v)=>{t(y=>({...y,searchTerms:{...y.searchTerms,[_]:v}}))},[]),a=b.useCallback(_=>{t(v=>({...v,viewMode:_}))},[]),i=b.useCallback(_=>{t(v=>({...v,selectedBrand:_,selectedModel:null,selectedGeneration:null,selectedEngine:null,selectedTuningOption:null,selectedFirmware:null}))},[]),l=b.useCallback(_=>{t(v=>({...v,selectedModel:_,selectedGeneration:null,selectedEngine:null,selectedTuningOption:null,selectedFirmware:null}))},[]),m=b.useCallback(_=>{t(v=>({...v,selectedGeneration:_,selectedEngine:null,selectedTuningOption:null,selectedFirmware:null}))},[]),c=b.useCallback(_=>{t(v=>({...v,selectedEngine:_,selectedTuningOption:null,selectedFirmware:null}))},[]),d=b.useCallback(_=>{t(v=>({...v,selectedTuningOption:_,selectedFirmware:null}))},[]),f=b.useCallback(_=>{t(v=>({...v,selectedFirmware:_}))},[]),g=b.useCallback(()=>{t({searchTerms:{brands:"",models:"",generations:"",engines:"",tuning:"",firmware:""},selectedBrand:null,selectedModel:null,selectedGeneration:null,selectedEngine:null,selectedTuningOption:null,selectedFirmware:null,viewMode:"brands"})},[]),w=b.useCallback(()=>{t(_=>{switch(_.viewMode){case"firmware":return{..._,viewMode:"tuning",selectedFirmware:null};case"tuning":return{..._,viewMode:"engines",selectedTuningOption:null};case"engines":return{..._,viewMode:"generations",selectedEngine:null};case"generations":return{..._,viewMode:"models",selectedGeneration:null};case"models":return{..._,viewMode:"brands",selectedModel:null,selectedBrand:null};default:return{..._,viewMode:"brands"}}})},[]),h=b.useCallback(_=>{o(v=>({...v,[_]:!0}))},[]),p=b.useCallback(_=>{o(v=>({...v,[_]:!1}))},[]);return{state:e,setState:t,removeIconHover:s,updateSearchTerm:r,setViewMode:a,setSelectedBrand:i,setSelectedModel:l,setSelectedGeneration:m,setSelectedEngine:c,setSelectedTuningOption:d,setSelectedFirmware:f,clearAllFilters:g,goBack:w,handleRemoveIconMouseEnter:h,handleRemoveIconMouseLeave:p}},ki=e=>{const{searchTerms:t,selectedBrand:s,selectedModel:o,selectedGeneration:r,selectedEngine:a,selectedTuningOption:i,viewMode:l}=e,m=Xn.filter(p=>p.name.toLowerCase().includes(t.brands.toLowerCase())),c=b.useCallback(()=>(s==null?void 0:s.name)==="BMW"?me.models.filter(p=>p.name.toLowerCase().includes(t.models.toLowerCase())):[],[s,t.models]),d=b.useCallback(()=>o&&(s==null?void 0:s.name)==="BMW"?o.generations.filter(p=>p.body.toLowerCase().includes(t.generations.toLowerCase())||p.years.toLowerCase().includes(t.generations.toLowerCase())):[],[o,s,t.generations]),f=b.useCallback(()=>r?r.engines.filter(p=>p.toLowerCase().includes(t.engines.toLowerCase())):[],[r,t.engines]),g=b.useCallback(()=>a?Mi(a).filter(p=>p.name.toLowerCase().includes(t.tuning.toLowerCase())||p.category.toLowerCase().includes(t.tuning.toLowerCase())||p.description&&p.description.toLowerCase().includes(t.tuning.toLowerCase())):[],[a,t.tuning]),w=b.useCallback(()=>a?be.filter(p=>{const _=p.engine===a,v=i?p.category===i.category:!0,y=p.brand.toLowerCase().includes(t.firmware.toLowerCase())||p.model.toLowerCase().includes(t.firmware.toLowerCase())||p.engine.toLowerCase().includes(t.firmware.toLowerCase())||p.name.toLowerCase().includes(t.firmware.toLowerCase());return _&&v&&y}):[],[a,i,t.firmware]),h=b.useCallback(()=>i&&a?be.filter(p=>{const _=p.engine===a,v=p.category!==i.category;return _&&v}):[],[i,a]);return{filteredBrands:m,getModels:c,getGenerations:d,getEngines:f,getTuningOptions:g,getFirmwareFiles:w,getOtherFirmwareFiles:h,getFirmwareCountByBrand:Si,getFirmwareCountByModel:Ni,getFirmwareCountByGeneration:Li,getFirmwareCountByEngine:Fi,getCategories:Ti,getCategoryDescription:Ei}},Pi=e=>{const[t,s]=b.useState(!1),[o,r]=b.useState(!1),a=b.useRef(void 0);return b.useEffect(()=>{const i=()=>{e.current&&s(e.current.scrollHeight>e.current.clientHeight)};return i(),window.addEventListener("resize",i),()=>{window.removeEventListener("resize",i)}},[e]),b.useEffect(()=>{const i=()=>{r(!0),a.current&&clearTimeout(a.current),a.current=setTimeout(()=>r(!1),500)},l=e.current;return l&&l.addEventListener("scroll",i),()=>{l&&l.removeEventListener("scroll",i),a.current&&clearTimeout(a.current)}},[e]),{hasScroll:t,isScrolling:o}},Gi="Breadcrumbs-module__breadcrumbs___6Rm5W",Ai="Breadcrumbs-module__breadcrumbItem___egg-8",Hi="Breadcrumbs-module__active___2L4Qi",Ui="Breadcrumbs-module__breadcrumbSeparator___AiyEg",A={breadcrumbs:Gi,breadcrumbItem:Ai,active:Hi,breadcrumbSeparator:Ui},Vi=({viewMode:e,selectedBrand:t,selectedModel:s,selectedGeneration:o,selectedEngine:r,selectedTuningOption:a,onBreadcrumbClick:i})=>n.jsxs("div",{className:A.breadcrumbs,children:[n.jsx("span",{className:`${A.breadcrumbItem} ${e==="brands"?A.active:""}`,onClick:()=>i("brands"),children:"Марки"}),t&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:A.breadcrumbSeparator,children:"›"}),n.jsx("span",{className:`${A.breadcrumbItem} ${e==="models"?A.active:""}`,onClick:()=>i("models"),children:t.name})]}),s&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:A.breadcrumbSeparator,children:"›"}),n.jsx("span",{className:`${A.breadcrumbItem} ${e==="generations"?A.active:""}`,onClick:()=>i("generations"),children:s.name})]}),o&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:A.breadcrumbSeparator,children:"›"}),n.jsx("span",{className:`${A.breadcrumbItem} ${e==="engines"?A.active:""}`,onClick:()=>i("engines"),children:o.body})]}),r&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:A.breadcrumbSeparator,children:"›"}),n.jsx("span",{className:`${A.breadcrumbItem} ${e==="tuning"?A.active:""}`,onClick:()=>i("tuning"),children:"Двигатель"})]}),a&&n.jsxs(n.Fragment,{children:[n.jsx("span",{className:A.breadcrumbSeparator,children:"›"}),n.jsx("span",{className:`${A.breadcrumbItem} ${e==="firmware"?A.active:""}`,onClick:()=>i("firmware"),children:a.name})]})]}),qi="SearchInput-module__searchInput___Vr07Y",zi="SearchInput-module__searchIcon___gd252",Wi="SearchInput-module__input___e-TY1",pn={searchInput:qi,searchIcon:zi,input:Wi},Zn=({value:e,placeholder:t,onChange:s})=>n.jsxs("div",{className:pn.searchInput,children:[n.jsx(T,{icon:Rt,className:pn.searchIcon}),n.jsx("input",{type:"text",placeholder:t,value:e,onChange:o=>s(o.target.value)})]}),Ji="SelectedItems-module__selectionInfo___Fq029",Xi="SelectedItems-module__selectedItem___6W2hm",Ki="SelectedItems-module__removeIcon___xZW0k",Qi="SelectedItems-module__removeIconHover___bScQe",O={selectionInfo:Ji,selectedItem:Xi,removeIcon:Ki,removeIconHover:Qi},Yi=({state:e,removeIconHover:t,onBrandRemove:s,onModelRemove:o,onGenerationRemove:r,onEngineRemove:a,onTuningOptionRemove:i,onFirmwareRemove:l,onRemoveIconMouseEnter:m,onRemoveIconMouseLeave:c})=>{const{selectedBrand:d,selectedModel:f,selectedGeneration:g,selectedEngine:w,selectedTuningOption:h,selectedFirmware:p}=e;return n.jsxs(n.Fragment,{children:[d&&n.jsx("div",{className:O.selectionInfo,children:n.jsxs("div",{className:`${O.selectedItem} ${t.brand?O.removeIconHover:""}`,children:[n.jsx("span",{children:d.name}),n.jsx(T,{icon:Q,size:"xl",className:O.removeIcon,onClick:s,onMouseEnter:()=>m("brand"),onMouseLeave:()=>c("brand")})]})}),f&&n.jsx("div",{className:O.selectionInfo,children:n.jsxs("div",{className:`${O.selectedItem} ${t.model?O.removeIconHover:""}`,children:[n.jsx("span",{children:f.name}),n.jsx(T,{icon:Q,size:"xl",className:O.removeIcon,onClick:o,onMouseEnter:()=>m("model"),onMouseLeave:()=>c("model")})]})}),g&&n.jsx("div",{className:O.selectionInfo,children:n.jsxs("div",{className:`${O.selectedItem} ${t.generation?O.removeIconHover:""}`,children:[n.jsxs("span",{children:[g.body," (",g.years,")"]}),n.jsx(T,{icon:Q,size:"xl",className:O.removeIcon,onClick:r,onMouseEnter:()=>m("generation"),onMouseLeave:()=>c("generation")})]})}),w&&n.jsx("div",{className:O.selectionInfo,children:n.jsxs("div",{className:`${O.selectedItem} ${t.engine?O.removeIconHover:""}`,children:[n.jsx("span",{children:w}),n.jsx(T,{icon:Q,size:"xl",className:O.removeIcon,onClick:a,onMouseEnter:()=>m("engine"),onMouseLeave:()=>c("engine")})]})}),h&&n.jsx("div",{className:O.selectionInfo,children:n.jsxs("div",{className:`${O.selectedItem} ${t.tuningOption?O.removeIconHover:""}`,children:[n.jsx("span",{children:h.name}),n.jsx(T,{icon:Q,size:"xl",className:O.removeIcon,onClick:i,onMouseEnter:()=>m("tuningOption"),onMouseLeave:()=>c("tuningOption")})]})}),p&&n.jsx("div",{className:O.selectionInfo,children:n.jsxs("div",{className:`${O.selectedItem} ${t.firmware?O.removeIconHover:""}`,children:[n.jsx("span",{children:p.name}),n.jsx(T,{icon:Q,size:"xl",className:O.removeIcon,onClick:l,onMouseEnter:()=>m("firmware"),onMouseLeave:()=>c("firmware")})]})})]})},Zi="FilterButtons-module__buttonsContainer___jl60i",el="FilterButtons-module__clearButton___aZDUy",tl="FilterButtons-module__backButton___7nv1h",_t={buttonsContainer:Zi,clearButton:el,backButton:tl},nl=({viewMode:e,hasActiveFilters:t,onBack:s,onClearAll:o})=>n.jsxs("div",{className:_t.buttonsContainer,children:[e!=="brands"&&n.jsx("button",{className:_t.backButton,onClick:s,children:"Назад"}),t&&n.jsx("button",{className:_t.clearButton,onClick:o,children:"Сбросить"})]}),sl="FilterPanel-module__filterPanel___d-XWA",ol="FilterPanel-module__headerFilterPanel___kLcFT",rl="FilterPanel-module__resultsFilterPanel___52zGL",al="FilterPanel-module__filterGroup___ZWGbK",pt={filterPanel:sl,headerFilterPanel:ol,resultsFilterPanel:rl,filterGroup:al},il=({state:e,removeIconHover:t,onViewModeChange:s,onSearchChange:o,onRemoveIconMouseEnter:r,onRemoveIconMouseLeave:a,onBrandRemove:i,onModelRemove:l,onGenerationRemove:m,onEngineRemove:c,onTuningOptionRemove:d,onFirmwareRemove:f,onBack:g,onClearAll:w,getPlaceholderText:h})=>{const p=!!(e.selectedBrand||e.selectedModel||e.selectedGeneration||e.selectedEngine||e.selectedTuningOption||e.selectedFirmware||Object.values(e.searchTerms).some(_=>_!==""));return n.jsxs("div",{className:pt.filterPanel,children:[n.jsx("div",{className:pt.headerFilterPanel,children:n.jsx("h2",{children:"Поиск прошивок"})}),n.jsxs("div",{className:pt.resultsFilterPanel,children:[n.jsx(Vi,{viewMode:e.viewMode,selectedBrand:e.selectedBrand,selectedModel:e.selectedModel,selectedGeneration:e.selectedGeneration,selectedEngine:e.selectedEngine,selectedTuningOption:e.selectedTuningOption,onBreadcrumbClick:s}),n.jsx(Zn,{value:e.searchTerms[e.viewMode],placeholder:h(),onChange:o}),n.jsx(Yi,{state:e,removeIconHover:t,onBrandRemove:i,onModelRemove:l,onGenerationRemove:m,onEngineRemove:c,onTuningOptionRemove:d,onFirmwareRemove:f,onRemoveIconMouseEnter:r,onRemoveIconMouseLeave:a}),n.jsx(nl,{viewMode:e.viewMode,hasActiveFilters:p,onBack:g,onClearAll:w})]})]})},ll="ResultsHeader-module__resultsHeader___-E73X",cl="ResultsHeader-module__clearResults___nL1OU",gn={resultsHeader:ll,clearResults:cl},dl=({state:e,onClearAll:t})=>{const{viewMode:s,selectedBrand:o,selectedModel:r,selectedGeneration:a,selectedEngine:i,selectedTuningOption:l}=e,m=()=>{switch(s){case"brands":return"Все марки автомобилей";case"models":return`Модели ${o==null?void 0:o.name}`;case"generations":return`Поколения ${r==null?void 0:r.name}`;case"engines":return`Двигатели ${a==null?void 0:a.body}`;case"tuning":return`Опции тюнинга для ${i}`;case"firmware":return`Прошивки ${l==null?void 0:l.name}`;default:return""}},c=o||r||a||i||l||Object.values(e.searchTerms).some(d=>d!=="");return n.jsxs("div",{className:gn.resultsHeader,children:[n.jsx("h2",{children:m()}),c&&n.jsxs("button",{className:gn.clearResults,onClick:t,children:[n.jsx(T,{icon:Q})," Очистить"]})]})},ul="ResultsContent-module__resultsContent___Q--8y",ml="ResultsContent-module__scrolling___4A73W",hl="ResultsContent-module__fadeOverlay___yEmnZ",_l="ResultsContent-module__topFade___YbNQI",pl="ResultsContent-module__bottomFade___-qLus",fe={resultsContent:ul,scrolling:ml,fadeOverlay:hl,topFade:_l,bottomFade:pl},gl=({hasScroll:e,isScrolling:t,resultsContentRef:s,children:o})=>{const r=`${fe.resultsContent} ${e?fe.hasScroll:fe.noScroll} ${t?fe.scrolling:""}`;return n.jsxs("div",{className:r,ref:s,children:[e&&n.jsx("div",{className:`${fe.fadeOverlay} ${fe.topFade}`}),o,e&&n.jsx("div",{className:`${fe.fadeOverlay} ${fe.bottomFade}`})]})},fl="ResultsPanel-module__resultsPanel___zBJXW",bl={resultsPanel:fl},wl=({state:e,hasScroll:t,isScrolling:s,resultsContentRef:o,onClearAll:r,renderRightContent:a})=>n.jsxs("div",{className:bl.resultsPanel,children:[n.jsx(dl,{state:e,onClearAll:r}),n.jsx(gl,{hasScroll:t,isScrolling:s,resultsContentRef:o,children:a()})]}),vl="AnimatedCard-module__contentCard___xefMi",xl="AnimatedCard-module__fadeIn___KOmFj",yl="AnimatedCard-module__detailed___ystEA",Cl="AnimatedCard-module__tuningOption___fV5KR",jl="AnimatedCard-module__firmwareOption___jrkeR",Sl="AnimatedCard-module__unavailable___AR4cs",Nl="AnimatedCard-module__firmwareCountBadge___5Y07H",fn={contentCard:vl,fadeIn:xl,detailed:yl,tuningOption:Cl,firmwareOption:jl,unavailable:Sl,firmwareCountBadge:Nl},we=({children:e,delay:t,className:s="",onClick:o})=>{const r=fn.contentCard,a=s.split(" ").filter(Boolean).map(l=>{const m=l.replace(/-([a-z])/g,c=>c[1].toUpperCase());return fn[m]||l}).join(" "),i=`${r} ${a}`.trim();return n.jsx("div",{className:i,style:{animationDelay:`${t}ms`},onClick:o,children:e})},Ll="BrandGrid-module__contentGrid___h97m8",Fl="BrandGrid-module__tuningGrid___oYLaQ",Tl="BrandGrid-module__firmwareCountBadge___FQOs-",El="BrandGrid-module__unavailable___lCzf1",Il="BrandGrid-module__countInfo___8T-eA",$l="BrandGrid-module__contentLogo___yPnZh",Rl="BrandGrid-module__brandCard___y7x5w",Ml="BrandGrid-module__fadeIn___tNB4q",ze={contentGrid:Ll,tuningGrid:Fl,firmwareCountBadge:Tl,unavailable:El,countInfo:Il,contentLogo:$l,brandCard:Rl,fadeIn:Ml},Dl=({brands:e,onBrandSelect:t,getFirmwareCountByBrand:s})=>n.jsx("div",{className:ze.contentGrid,children:e.map((o,r)=>{const a=s(o.name);return n.jsxs(we,{delay:r*20,onClick:()=>t(o),className:ze.brandCard,children:[n.jsx("div",{className:ze.firmwareCountBadge,children:a}),n.jsx("img",{src:o.logo,alt:o.name,className:ze.contentLogo}),n.jsx("h3",{children:o.name}),n.jsxs("p",{children:[a," прошивок"]})]},o.id)})}),Ol="ModelGrid-module__contentGrid___RyPwd",Bl="ModelGrid-module__tuningGrid___-5FAf",kl="ModelGrid-module__firmwareCountBadge___IIIsg",Pl="ModelGrid-module__unavailable___t2TXT",Gl="ModelGrid-module__countInfo___wFz-O",Al="ModelGrid-module__modelCard___59CCr",Hl="ModelGrid-module__fadeIn___JKNND",gt={contentGrid:Ol,tuningGrid:Bl,firmwareCountBadge:kl,unavailable:Pl,countInfo:Gl,modelCard:Al,fadeIn:Hl},Ul=({models:e,onModelSelect:t,getFirmwareCountByModel:s,selectedBrand:o})=>n.jsx("div",{className:gt.contentGrid,children:e.map((r,a)=>{const i=s(o.name,r.name);return n.jsxs(we,{delay:a*20,onClick:()=>t(r),className:gt.modelCard,children:[n.jsx("div",{className:gt.firmwareCountBadge,children:i}),n.jsx("h3",{children:r.name}),n.jsxs("p",{children:[i," прошивок"]})]},r.id)})}),Vl="GenerationGrid-module__contentGrid___33k0-",ql="GenerationGrid-module__tuningGrid___kiX4I",zl="GenerationGrid-module__firmwareCountBadge___CEftD",Wl="GenerationGrid-module__unavailable___PrIlX",Jl="GenerationGrid-module__countInfo___V09-8",Xl="GenerationGrid-module__generationCard___NMPqN",Kl="GenerationGrid-module__fadeIn___yO2R7",ft={contentGrid:Vl,tuningGrid:ql,firmwareCountBadge:zl,unavailable:Wl,countInfo:Jl,generationCard:Xl,fadeIn:Kl},Ql=({generations:e,onGenerationSelect:t,getFirmwareCountByGeneration:s,selectedBrand:o,selectedModel:r})=>n.jsx("div",{className:ft.contentGrid,children:e.map((a,i)=>{const l=s(o.name,r.name,a.body);return n.jsxs(we,{delay:i*50,onClick:()=>t(a),className:"detailed",children:[n.jsx("div",{className:ft.firmwareCountBadge,children:l}),n.jsx("h3",{className:ft.generation,children:a.body}),n.jsx("p",{children:a.years}),n.jsxs("p",{children:[l," прошивок"]})]},i)})}),Yl="EngineGrid-module__contentGrid___fGNNK",Zl="EngineGrid-module__tuningGrid___g3sRy",ec="EngineGrid-module__firmwareCountBadge___RHwQj",tc="EngineGrid-module__unavailable___vSD09",nc="EngineGrid-module__countInfo___4obGj",sc="EngineGrid-module__engineCard___Pm4K5",oc="EngineGrid-module__fadeIn___f4eA1",bt={contentGrid:Yl,tuningGrid:Zl,firmwareCountBadge:ec,unavailable:tc,countInfo:nc,engineCard:sc,fadeIn:oc},rc=({engines:e,onEngineSelect:t,getFirmwareCountByEngine:s})=>n.jsx("div",{className:bt.contentGrid,children:e.map((o,r)=>{const a=s(o);return n.jsxs(we,{delay:r*50,onClick:()=>t(o),className:bt.engineCard,children:[n.jsx("div",{className:bt.firmwareCountBadge,children:a}),n.jsx("h3",{children:o}),n.jsxs("p",{children:[a," прошивок"]})]},r)})}),ac="TuningOptionsGrid-module__contentGrid___JYLW7",ic="TuningOptionsGrid-module__tuningGrid___G9c1U",lc="TuningOptionsGrid-module__firmwareCountBadge___rHgSX",cc="TuningOptionsGrid-module__unavailable___zqx-t",dc="TuningOptionsGrid-module__countInfo___iA-q7",uc="TuningOptionsGrid-module__tuningOptionsContainer___LYACf",mc="TuningOptionsGrid-module__tuningSection___LNMH3",hc="TuningOptionsGrid-module__tuningSectionTitle___x8Dm-",_c="TuningOptionsGrid-module__name___WEEPW",pc="TuningOptionsGrid-module__otherFirmwaresTitle___3IVlu",gc="TuningOptionsGrid-module__unavailableText___RdCFC",fc="TuningOptionsGrid-module__fadeIn___TWqnM",P={contentGrid:ac,tuningGrid:ic,firmwareCountBadge:lc,unavailable:cc,countInfo:dc,tuningOptionsContainer:uc,tuningSection:mc,tuningSectionTitle:hc,name:_c,otherFirmwaresTitle:pc,unavailableText:gc,fadeIn:fc},bc=({availableOptions:e,unavailableOptions:t,onTuningOptionSelect:s,mockFirmwareFiles:o,selectedEngine:r})=>n.jsxs("div",{className:P.tuningOptionsContainer,children:[e.length>0&&n.jsxs("div",{className:P.tuningSection,children:[n.jsx("h3",{className:P.tuningSectionTitle,children:"Доступные опции"}),n.jsx("div",{className:`${P.contentGrid} ${P.tuningGrid}`,children:e.map((a,i)=>{var m;const l=o.find(c=>c.engine===r&&c.category===a.category);return n.jsxs(we,{delay:i*30,className:"tuningOption",onClick:()=>s(a),children:[n.jsx("div",{className:P.firmwareCountBadge,children:a.count}),n.jsx("h3",{children:a.name}),n.jsx("p",{className:P.category,children:a.category}),(l==null?void 0:l.price)&&n.jsxs("p",{className:P.price,children:["От ",l.price," ₽"]}),n.jsxs("p",{className:P.countInfo,children:[a.count," прошивок доступно"]}),n.jsx("div",{className:P.description,children:(m=a.description)==null?void 0:m.split(`
`).map((c,d)=>n.jsx("p",{children:c},d))})]},a.id)})})]}),t.length>0&&n.jsxs("div",{className:P.tuningSection,children:[n.jsx("h3",{className:P.tuningSectionTitle,children:"Нет в наличии"}),n.jsx("div",{className:`${P.contentGrid} ${P.tuningGrid}`,children:t.map((a,i)=>{var l;return n.jsxs(we,{delay:i*40,className:"unavailable",children:[n.jsx("div",{className:`${P.firmwareCountBadge} ${P.unavailableBadge}`,children:"0"}),n.jsx("h3",{children:a.name}),n.jsx("p",{className:P.category,children:a.category}),n.jsx("p",{className:P.unavailableText,children:"Нет в наличии"}),n.jsx("div",{className:P.description,children:(l=a.description)==null?void 0:l.split(`
`).map((m,c)=>n.jsx("p",{children:m},c))})]},a.id)})})]})]}),wc="FirmwareGrid-module__contentGrid___RAQOA",vc="FirmwareGrid-module__tuningGrid___lX6d3",xc="FirmwareGrid-module__firmwareCountBadge___PbV5a",yc="FirmwareGrid-module__unavailable___L7tyG",Cc="FirmwareGrid-module__countInfo___9P9Uv",jc="FirmwareGrid-module__firmwareContainer___0iERH",Sc="FirmwareGrid-module__firmwareHeaderContainer___E2RDd",Nc="FirmwareGrid-module__firmwareWrapper___5SUy3",Lc="FirmwareGrid-module__firmwareHeaderWrapper___ioGDG",Fc="FirmwareGrid-module__firmwareHeader___8ihp6",Tc="FirmwareGrid-module__firmwareVersion___fUehh",Ec="FirmwareGrid-module__firmwareStats___5WwcA",Ic="FirmwareGrid-module__stat___vxHdE",$c="FirmwareGrid-module__statLabel___AQCAb",Rc="FirmwareGrid-module__statValue___mj5H8",Mc="FirmwareGrid-module__firmwareMeta___tKpEE",Dc="FirmwareGrid-module__description___FfHef",Oc="FirmwareGrid-module__rating___GLviH",Bc="FirmwareGrid-module__downloads___Xb753",kc="FirmwareGrid-module__otherFirmwaresSection___Kqik9",Pc="FirmwareGrid-module__otherFirmwaresTitle___yMeUH",Gc="FirmwareGrid-module__fadeIn___hrsdn",C={contentGrid:wc,tuningGrid:vc,firmwareCountBadge:xc,unavailable:yc,countInfo:Cc,firmwareContainer:jc,firmwareHeaderContainer:Sc,firmwareWrapper:Nc,firmwareHeaderWrapper:Lc,firmwareHeader:Fc,firmwareVersion:Tc,firmwareStats:Ec,stat:Ic,statLabel:$c,statValue:Rc,firmwareMeta:Mc,description:Dc,rating:Oc,downloads:Bc,otherFirmwaresSection:kc,otherFirmwaresTitle:Pc,fadeIn:Gc},Ac=({firmwareFiles:e,otherFirmwareFiles:t,onFirmwareSelect:s,selectedBrand:o,selectedModel:r,selectedGeneration:a,selectedEngine:i})=>n.jsxs("div",{className:C.firmwareContainer,children:[n.jsx("h3",{className:C.tuningSectionTitle,children:"Доступные прошивки"}),n.jsx("div",{className:`${C.contentGrid} ${C.tuningGrid}`,children:e.map((l,m)=>n.jsxs(we,{delay:m*30,className:"firmwareOption",onClick:()=>s(l),children:[n.jsxs("div",{className:C.firmwareWrapper,children:[n.jsxs("div",{className:C.firmwareHeaderWrapper,children:[n.jsx("div",{className:C.firmwareHeaderContainer,children:n.jsxs("div",{className:C.firmwareHeader,children:[n.jsx("h3",{children:l.name}),n.jsx("span",{className:C.firmwareVersion,children:l.version}),n.jsx("p",{className:C.category,children:l.category})]})}),l.price&&n.jsxs("p",{className:C.price,children:["Цена: ",l.price," ₽"]})]}),n.jsxs("div",{className:C.firmwareStats,children:[n.jsxs("div",{className:C.stat,children:[n.jsx("span",{className:C.statLabel,children:"Мощность:"}),n.jsxs("span",{className:C.statValue,children:[l.originalHorsepower," → ",l.tunedHorsepower," л.с."]})]}),n.jsxs("div",{className:C.stat,children:[n.jsx("span",{className:C.statLabel,children:"Крутящий момент:"}),n.jsxs("span",{className:C.statValue,children:[l.originalTorque," → ",l.tunedTorque," Н·м"]})]}),n.jsxs("div",{className:C.stat,children:[n.jsx("span",{className:C.statLabel,children:"Прирост:"}),n.jsxs("span",{className:C.statValue,children:["+",l.horsepowerGain," л.с. / +",l.torqueGain," Н·м"]})]})]})]}),n.jsxs("p",{className:C.description,children:[l.description.substring(0,250),"..."]}),n.jsxs("div",{className:C.firmwareMeta,children:[n.jsxs("span",{className:C.rating,children:["★ ",l.rating]}),n.jsxs("span",{className:C.downloads,children:["📥 ",l.downloadCount]}),n.jsx("span",{className:C.date,children:l.uploadDate.toLocaleDateString()})]})]},l.id))}),t.length>0&&n.jsxs("div",{className:C.otherFirmwaresSection,children:[n.jsxs("h3",{className:C.otherFirmwaresTitle,children:["Другие прошивки на ",o==null?void 0:o.name," ",r==null?void 0:r.name," ",a==null?void 0:a.body," ",i]}),n.jsx("div",{className:`${C.contentGrid} ${C.tuningGrid}`,children:t.map((l,m)=>n.jsxs(we,{delay:m*40,className:"firmwareOption",onClick:()=>s(l),children:[n.jsxs("div",{className:C.firmwareWrapper,children:[n.jsxs("div",{className:C.firmwareHeaderWrapper,children:[n.jsx("div",{className:C.firmwareHeaderContainer,children:n.jsxs("div",{className:C.firmwareHeader,children:[n.jsx("h3",{children:l.name}),n.jsx("span",{className:C.firmwareVersion,children:l.version}),n.jsx("p",{className:C.category,children:l.category})]})}),l.price&&n.jsxs("p",{className:C.price,children:["Цена: ",l.price," ₽"]})]}),n.jsxs("div",{className:C.firmwareStats,children:[n.jsxs("div",{className:C.stat,children:[n.jsx("span",{className:C.statLabel,children:"Мощность:"}),n.jsxs("span",{className:C.statValue,children:[l.originalHorsepower," → ",l.tunedHorsepower," л.с."]})]}),n.jsxs("div",{className:C.stat,children:[n.jsx("span",{className:C.statLabel,children:"Прирост:"}),n.jsxs("span",{className:C.statValue,children:["+",l.horsepowerGain," л.с."]})]})]})]}),n.jsxs("p",{className:C.description,children:[l.description.substring(0,250),"..."]}),n.jsxs("div",{className:C.firmwareMeta,children:[n.jsxs("span",{className:C.rating,children:["★ ",l.rating]}),n.jsxs("span",{className:C.downloads,children:["📥 ",l.downloadCount]})]})]},l.id))})]})]}),Hc="CarFilter-module__carFilterWrapper___BWeDq",Uc="CarFilter-module__carFilterContainer___oyyHB",bn={carFilterWrapper:Hc,carFilterContainer:Uc},Vc=()=>{const{state:e,removeIconHover:t,updateSearchTerm:s,setViewMode:o,setSelectedBrand:r,setSelectedModel:a,setSelectedGeneration:i,setSelectedEngine:l,setSelectedTuningOption:m,setSelectedFirmware:c,clearAllFilters:d,goBack:f,handleRemoveIconMouseEnter:g,handleRemoveIconMouseLeave:w}=Bi(),{filteredBrands:h,getModels:p,getGenerations:_,getEngines:v,getTuningOptions:y,getFirmwareFiles:j,getOtherFirmwareFiles:N,getFirmwareCountByBrand:E,getFirmwareCountByModel:R,getFirmwareCountByGeneration:L,getFirmwareCountByEngine:B,getCategories:se,getCategoryDescription:_e}=ki(e),[ce,X]=b.useState(null),x=b.useRef(null),{hasScroll:U,isScrolling:Pe}=Pi(x),Y=D=>{s(e.viewMode,D)},de={brands:D=>{r(D),o("models")},models:D=>{a(D),o("generations")},generations:D=>{i(D),o("engines")},engines:D=>{l(D),o("tuning")},tuning:D=>{m(D),o("firmware")},firmware:D=>X(D)},oe=D=>{console.log("Покупка прошивки:",D),alert(`Прошивка "${D.name}" добавлена в корзину!`)},Ge={brands:"Поиск по марке...",models:"Поиск по модели...",generations:"Поиск по поколению...",engines:"Поиск по двигателю...",tuning:"Поиск по опциям...",firmware:"Поиск по прошивкам..."},pe={brand:()=>{r(null),o("brands")},model:()=>{a(null),o("models")},generation:()=>{i(null),o("generations")},engine:()=>{l(null),o("engines")},tuningOption:()=>{m(null),o("tuning")},firmware:()=>{c(null),o("firmware")}},re=()=>{const D={selectedBrand:e.selectedBrand,selectedModel:e.selectedModel,selectedGeneration:e.selectedGeneration,selectedEngine:e.selectedEngine};return{brands:n.jsx(Dl,{brands:h,onBrandSelect:de.brands,getFirmwareCountByBrand:E}),models:n.jsx(Ul,{models:p(),onModelSelect:de.models,getFirmwareCountByModel:R,...D}),generations:n.jsx(Ql,{generations:_(),onGenerationSelect:de.generations,getFirmwareCountByGeneration:L,...D}),engines:n.jsx(rc,{engines:v(),onEngineSelect:de.engines,getFirmwareCountByEngine:B}),tuning:e.selectedEngine?(()=>{const je=se(),[He,ts]=je.reduce(([Dt,Ot],Ue,ns)=>{const Bt=y().find(Ee=>Ee.category===Ue&&Ee.engineCode===e.selectedEngine)||{id:ns+1e4,name:`${Ue} ${e.selectedEngine.split(" ")[0]}`,description:_e(Ue),category:Ue,engineCode:e.selectedEngine},kt=be.filter(Ee=>Ee.engine===e.selectedEngine&&Ee.category===Bt.category).length,Pt={...Bt,count:kt};return kt>0?Dt.push(Pt):Ot.push(Pt),[Dt,Ot]},[[],[]]);return n.jsx(bc,{availableOptions:He,unavailableOptions:ts,onTuningOptionSelect:de.tuning,mockFirmwareFiles:be,selectedEngine:e.selectedEngine})})():n.jsx("div",{children:"Двигатель не выбран"}),firmware:n.jsx(Ac,{firmwareFiles:j(),otherFirmwareFiles:N(),onFirmwareSelect:de.firmware,...D})}[e.viewMode]||null};return n.jsxs("div",{className:bn.carFilterWrapper,children:[n.jsxs("div",{className:bn.carFilterContainer,children:[n.jsx(il,{state:e,removeIconHover:t,onViewModeChange:o,onSearchChange:Y,onRemoveIconMouseEnter:g,onRemoveIconMouseLeave:w,onBrandRemove:pe.brand,onModelRemove:pe.model,onGenerationRemove:pe.generation,onEngineRemove:pe.engine,onTuningOptionRemove:pe.tuningOption,onFirmwareRemove:pe.firmware,onBack:f,onClearAll:d,getPlaceholderText:()=>Ge[e.viewMode]||"Поиск..."}),n.jsx(wl,{state:e,hasScroll:U,isScrolling:Pe,resultsContentRef:x,onClearAll:d,renderRightContent:re})]}),ce&&n.jsx(gi,{firmware:ce,onClose:()=>X(null),onBuy:oe})]})},qc=()=>n.jsx("div",{className:"page",children:n.jsx(Ce,{children:n.jsx(Vc,{})})}),zc=()=>n.jsx(Ce,{children:"Profile Page - TODO"}),Wc="Dropdown-module__dropdown___Epje-",Jc="Dropdown-module__hovered___OINJO",Xc="Dropdown-module__removeHovered___tdGqV",Kc="Dropdown-module__dropdownHeader___zte0L",Qc="Dropdown-module__headerContent___QRhV7",Yc="Dropdown-module__removeIconContainer___otg59",Zc="Dropdown-module__removeIcon___tee8z",ed="Dropdown-module__selectedValue___qar0u",td="Dropdown-module__chevron___G5hD9",nd="Dropdown-module__rotated___1-fUO",sd="Dropdown-module__dropdownMenu___108y7",od="Dropdown-module__open___FGWkk",rd="Dropdown-module__menuContent___W1Yn1",ad="Dropdown-module__dropdownItem___jN8sJ",id="Dropdown-module__selected___PvNPV",ld="Dropdown-module__optionLabel___dzjlo",cd="Dropdown-module__checkIcon___u-O7e",H={dropdown:Wc,hovered:Jc,removeHovered:Xc,dropdownHeader:Kc,headerContent:Qc,removeIconContainer:Yc,removeIcon:Zc,selectedValue:ed,chevron:td,rotated:nd,dropdownMenu:sd,open:od,menuContent:rd,dropdownItem:ad,selected:id,optionLabel:ld,checkIcon:cd},wn=({options:e,value:t,onChange:s,placeholder:o="Выберите...",className:r=""})=>{const[a,i]=b.useState(!1),[l,m]=b.useState(!1),[c,d]=b.useState(!1),f=b.useRef(null);b.useEffect(()=>{const v=y=>{f.current&&!f.current.contains(y.target)&&i(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),b.useEffect(()=>{d(!1)},[t]);const g=e.find(v=>v.value===t),w=t!=="all"&&t!=="",h=v=>{s(v),i(!1)},p=v=>{v.stopPropagation(),s("all"),d(!1)},_=()=>{i(!a)};return n.jsxs("div",{ref:f,className:`${H.dropdown} ${r} ${a?H.open:""} ${l?H.hovered:""} ${c?H.removeHovered:""}`,onMouseEnter:()=>m(!0),onMouseLeave:()=>{m(!1),d(!1)},children:[n.jsxs("div",{className:H.dropdownHeader,onClick:_,children:[n.jsxs("div",{className:H.headerContent,children:[n.jsx("span",{className:H.selectedValue,children:(g==null?void 0:g.label)||o}),w&&n.jsx("div",{className:H.removeIconContainer,onMouseEnter:()=>d(!0),onMouseLeave:()=>d(!1),onClick:p,children:n.jsx(T,{icon:Q,className:H.removeIcon})})]}),n.jsx(T,{icon:$t,className:`${H.chevron} ${a?H.rotated:""}`})]}),n.jsx("div",{className:`${H.dropdownMenu} ${a?H.open:""}`,children:n.jsx("div",{className:H.menuContent,children:e.map(v=>n.jsxs("div",{className:`${H.dropdownItem} ${v.value===t?H.selected:""}`,onClick:()=>h(v.value),children:[n.jsx("span",{className:H.optionLabel,children:v.label}),v.value===t&&n.jsx(T,{icon:It,className:H.checkIcon})]},v.value))})})]})},dd="SearchableDropdown-module__searchableDropdown___mR7Cr",ud="SearchableDropdown-module__removeHovered___QTPxH",md="SearchableDropdown-module__hovered___ixcQb",hd="SearchableDropdown-module__disabled___ladYA",_d="SearchableDropdown-module__dropdownHeader___09DzH",pd="SearchableDropdown-module__open___dHuj3",gd="SearchableDropdown-module__headerContent___LXwIe",fd="SearchableDropdown-module__removeIconContainer___uNEcW",bd="SearchableDropdown-module__removeIcon___gvC13",wd="SearchableDropdown-module__selectedValue___ovFqN",vd="SearchableDropdown-module__chevron___gkx0H",xd="SearchableDropdown-module__rotated___mhOMd",yd="SearchableDropdown-module__dropdownMenu___ZNFxL",Cd="SearchableDropdown-module__searchContainer___4cnNp",jd="SearchableDropdown-module__searchInputWrapper___Lvbdu",Sd="SearchableDropdown-module__searchIcon___Kbx-i",Nd="SearchableDropdown-module__searchInput___akdJH",Ld="SearchableDropdown-module__clearSearchButton___n4Y8A",Fd="SearchableDropdown-module__clearSearchIcon___qB-d4",Td="SearchableDropdown-module__resultsInfo___sGlSE",Ed="SearchableDropdown-module__resultsCount___h46vM",Id="SearchableDropdown-module__resultsLimit___3-xEn",$d="SearchableDropdown-module__menuContent___oD5xg",Rd="SearchableDropdown-module__noResults___20Bi5",Md="SearchableDropdown-module__clearSearchLink___gm73X",Dd="SearchableDropdown-module__dropdownItem___zwusf",Od="SearchableDropdown-module__slideInUp___uu51D",Bd="SearchableDropdown-module__selected___WNuBT",kd="SearchableDropdown-module__optionLabel___SNnH9",Pd="SearchableDropdown-module__checkIcon___gBlQM",Gd="SearchableDropdown-module__moreResults___nc4og",M={searchableDropdown:dd,removeHovered:ud,hovered:md,disabled:hd,dropdownHeader:_d,open:pd,headerContent:gd,removeIconContainer:fd,removeIcon:bd,selectedValue:wd,chevron:vd,rotated:xd,dropdownMenu:yd,searchContainer:Cd,searchInputWrapper:jd,searchIcon:Sd,searchInput:Nd,clearSearchButton:Ld,clearSearchIcon:Fd,resultsInfo:Td,resultsCount:Ed,resultsLimit:Id,menuContent:$d,noResults:Rd,clearSearchLink:Md,dropdownItem:Dd,slideInUp:Od,selected:Bd,optionLabel:kd,checkIcon:Pd,moreResults:Gd},Ad=({options:e,value:t,onChange:s,placeholder:o="Выберите...",className:r="",searchPlaceholder:a="Поиск...",maxHeight:i=300,disabled:l=!1})=>{const[m,c]=b.useState(!1),[d,f]=b.useState(!1),[g,w]=b.useState(!1),[h,p]=b.useState(""),_=b.useRef(null),v=b.useRef(null),y=b.useRef(null);b.useEffect(()=>{const x=U=>{_.current&&!_.current.contains(U.target)&&(c(!1),p(""),w(!1))};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),b.useEffect(()=>{w(!1)},[t]),b.useEffect(()=>{m&&v.current&&setTimeout(()=>{var x;(x=v.current)==null||x.focus()},100)},[m]);const j=b.useMemo(()=>{if(!h.trim())return e;const x=h.toLowerCase().trim();return e.filter(U=>U.label.toLowerCase().includes(x))},[e,h]),N=e.find(x=>x.value===t),E=t!=="all"&&t!=="",R=b.useCallback(x=>{s(x),c(!1),p(""),w(!1)},[s]),L=x=>{x.stopPropagation(),s("all"),p(""),w(!1)},B=()=>{l||(c(!m),p(""),w(!1))},se=x=>{p(x.target.value)},_e=x=>{x.key==="Escape"?(c(!1),p(""),w(!1)):x.key==="Enter"&&j.length===1&&R(j[0].value)},ce=()=>{var x;p(""),(x=v.current)==null||x.focus()},X=b.useCallback(()=>{if(y.current&&t){const x=y.current.querySelector(`[data-value="${t}"]`);x&&x.scrollIntoView({block:"nearest"})}},[t]);return b.useEffect(()=>{m&&setTimeout(X,100)},[m,X]),n.jsxs("div",{ref:_,className:`${M.searchableDropdown} ${r} ${m?M.open:""} ${d?M.hovered:""} ${g?M.removeHovered:""} ${l?M.disabled:""}`,onMouseEnter:()=>!l&&f(!0),onMouseLeave:()=>{!l&&f(!1),w(!1)},children:[n.jsxs("div",{className:M.dropdownHeader,onClick:B,children:[n.jsxs("div",{className:M.headerContent,children:[n.jsx("span",{className:M.selectedValue,children:(N==null?void 0:N.label)||o}),E&&!l&&n.jsx("div",{className:M.removeIconContainer,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),onClick:L,children:n.jsx(T,{icon:Q,className:M.removeIcon})})]}),n.jsx(T,{icon:$t,className:`${M.chevron} ${m?M.rotated:""}`})]}),n.jsxs("div",{className:`${M.dropdownMenu} ${m?M.open:""}`,style:{maxHeight:m?`${i}px`:"0"},children:[n.jsx("div",{className:M.searchContainer,children:n.jsxs("div",{className:M.searchInputWrapper,children:[n.jsx(T,{icon:Rt,className:M.searchIcon}),n.jsx("input",{ref:v,type:"text",placeholder:a,value:h,onChange:se,onKeyDown:_e,className:M.searchInput}),h&&n.jsx("button",{className:M.clearSearchButton,onClick:ce,children:n.jsx(T,{icon:Q,className:M.clearSearchIcon})})]})}),n.jsx("div",{className:M.resultsInfo,children:n.jsxs("span",{className:M.resultsCount,children:["Найдено: ",j.length,j.length!==e.length&&` из ${e.length}`]})}),n.jsx("div",{ref:y,className:M.menuContent,style:{maxHeight:i-120},children:j.length===0?n.jsx("div",{className:M.noResults,children:h?"Ничего не найдено":"Нет доступных опций"}):j.map(x=>n.jsxs("div",{"data-value":x.value,className:`${M.dropdownItem} ${x.value===t?M.selected:""}`,onClick:()=>R(x.value),children:[n.jsx("span",{className:M.optionLabel,children:x.label}),x.value===t&&n.jsx(T,{icon:It,className:M.checkIcon})]},x.value))})]})]})},Hd="SearchableDropdownWithLogos-module__searchableDropdown___wNo87",Ud="SearchableDropdownWithLogos-module__removeHovered___sVFJD",Vd="SearchableDropdownWithLogos-module__disabled___1RlVr",qd="SearchableDropdownWithLogos-module__dropdownHeader___B9b0G",zd="SearchableDropdownWithLogos-module__open___3MLyq",Wd="SearchableDropdownWithLogos-module__headerContent___xMeCj",Jd="SearchableDropdownWithLogos-module__selectedLogo___glKBY",Xd="SearchableDropdownWithLogos-module__removeIconContainer___-1ecJ",Kd="SearchableDropdownWithLogos-module__removeIcon___iGKuN",Qd="SearchableDropdownWithLogos-module__selectedValue___zslew",Yd="SearchableDropdownWithLogos-module__chevron___xtWuk",Zd="SearchableDropdownWithLogos-module__rotated___SblRl",eu="SearchableDropdownWithLogos-module__dropdownMenu___b4Dew",tu="SearchableDropdownWithLogos-module__searchContainer___-N86i",nu="SearchableDropdownWithLogos-module__searchInputWrapper___2SNTr",su="SearchableDropdownWithLogos-module__searchIcon___sDt7z",ou="SearchableDropdownWithLogos-module__searchInput___dJWf3",ru="SearchableDropdownWithLogos-module__clearSearchButton___MjcqG",au="SearchableDropdownWithLogos-module__clearSearchIcon___Xteq3",iu="SearchableDropdownWithLogos-module__resultsInfo___0w-GQ",lu="SearchableDropdownWithLogos-module__resultsCount___TqJID",cu="SearchableDropdownWithLogos-module__clearSearchLink___aUpUt",du="SearchableDropdownWithLogos-module__menuContent___dE-dL",uu="SearchableDropdownWithLogos-module__noResults___d3Lnr",mu="SearchableDropdownWithLogos-module__dropdownItem___PR4lr",hu="SearchableDropdownWithLogos-module__slideInUp___Vuc-9",_u="SearchableDropdownWithLogos-module__selected___3IRRo",pu="SearchableDropdownWithLogos-module__optionContent___Yau49",gu="SearchableDropdownWithLogos-module__optionLogo___rMLJC",fu="SearchableDropdownWithLogos-module__optionLabel___xiWtR",bu="SearchableDropdownWithLogos-module__checkIcon___y-jRJ",wu="SearchableDropdownWithLogos-module__moreResults___NOyIq",I={searchableDropdown:Hd,removeHovered:Ud,disabled:Vd,dropdownHeader:qd,open:zd,headerContent:Wd,selectedLogo:Jd,removeIconContainer:Xd,removeIcon:Kd,selectedValue:Qd,chevron:Yd,rotated:Zd,dropdownMenu:eu,searchContainer:tu,searchInputWrapper:nu,searchIcon:su,searchInput:ou,clearSearchButton:ru,clearSearchIcon:au,resultsInfo:iu,resultsCount:lu,clearSearchLink:cu,menuContent:du,noResults:uu,dropdownItem:mu,slideInUp:hu,selected:_u,optionContent:pu,optionLogo:gu,optionLabel:fu,checkIcon:bu,moreResults:wu},vu=({options:e,value:t,onChange:s,placeholder:o="Выберите...",className:r="",searchPlaceholder:a="Поиск...",maxHeight:i=300,disabled:l=!1})=>{const[m,c]=b.useState(!1),[d,f]=b.useState(!1),[g,w]=b.useState(!1),[h,p]=b.useState(""),_=b.useRef(null),v=b.useRef(null),y=b.useRef(null);b.useEffect(()=>{const x=U=>{_.current&&!_.current.contains(U.target)&&(c(!1),p(""),w(!1))};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]),b.useEffect(()=>{w(!1)},[t]),b.useEffect(()=>{m&&v.current&&setTimeout(()=>{var x;(x=v.current)==null||x.focus()},100)},[m]);const j=b.useMemo(()=>{if(!h.trim())return e;const x=h.toLowerCase().trim();return e.filter(U=>U.label.toLowerCase().includes(x))},[e,h]),N=e.find(x=>x.value===t),E=t!=="all"&&t!=="",R=b.useCallback(x=>{s(x),c(!1),p(""),w(!1)},[s]),L=x=>{x.stopPropagation(),s("all"),p(""),w(!1)},B=()=>{l||(c(!m),p(""),w(!1))},se=x=>{p(x.target.value)},_e=x=>{x.key==="Escape"?(c(!1),p(""),w(!1)):x.key==="Enter"&&j.length===1&&R(j[0].value)},ce=()=>{p("")},X=b.useCallback(()=>{if(y.current&&t){const x=y.current.querySelector(`[data-value="${t}"]`);x&&x.scrollIntoView({block:"nearest"})}},[t]);return b.useEffect(()=>{m&&setTimeout(X,100)},[m,X]),n.jsxs("div",{ref:_,className:`${I.searchableDropdown} ${r} ${m?I.open:""} ${d?I.hovered:""} ${g?I.removeHovered:""} ${l?I.disabled:""}`,onMouseEnter:()=>!l&&f(!0),onMouseLeave:()=>{!l&&f(!1),w(!1)},children:[n.jsxs("div",{className:I.dropdownHeader,onClick:B,children:[n.jsxs("div",{className:I.headerContent,children:[n.jsx("span",{className:I.selectedValue,children:(N==null?void 0:N.label)||o}),E&&!l&&n.jsx("div",{className:I.removeIconContainer,onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),onClick:L,children:n.jsx(T,{icon:Q,className:I.removeIcon})})]}),n.jsx(T,{icon:$t,className:`${I.chevron} ${m?I.rotated:""}`})]}),n.jsxs("div",{className:`${I.dropdownMenu} ${m?I.open:""}`,style:{maxHeight:m?`${i}px`:"0"},children:[n.jsx("div",{className:I.searchContainer,children:n.jsxs("div",{className:I.searchInputWrapper,children:[n.jsx(T,{icon:Rt,className:I.searchIcon}),n.jsx("input",{ref:v,type:"text",placeholder:a,value:h,onChange:se,onKeyDown:_e,className:I.searchInput}),h&&n.jsx("button",{className:I.clearSearchButton,onClick:ce,children:n.jsx(T,{icon:Q,className:I.clearSearchIcon})})]})}),n.jsx("div",{className:I.resultsInfo,children:n.jsxs("span",{className:I.resultsCount,children:["Найдено: ",j.length,j.length!==e.length&&` из ${e.length}`]})}),n.jsx("div",{ref:y,className:I.menuContent,style:{maxHeight:i-120},children:j.length===0?n.jsx("div",{className:I.noResults,children:h?"Ничего не найдено":"Нет доступных опций"}):j.map(x=>n.jsxs("div",{"data-value":x.value,className:`${I.dropdownItem} ${x.value===t?I.selected:""}`,onClick:()=>R(x.value),children:[n.jsxs("div",{className:I.optionContent,children:[x.logo&&n.jsx("img",{src:x.logo,alt:x.label,className:I.optionLogo}),n.jsx("span",{className:I.optionLabel,children:x.label})]}),x.value===t&&n.jsx(T,{icon:It,className:I.checkIcon})]},x.value))})]})]})},xu="UserFileFilters-module__userFileFilters___H4l0I",yu="UserFileFilters-module__headerFilterPanel___JyK1D",Cu="UserFileFilters-module__filtersContent___Tnozi",ju="UserFileFilters-module__searchSection___LanKE",Su="UserFileFilters-module__filtersSection___wS8HB",Nu="UserFileFilters-module__filterGroup___2aoKq",Lu="UserFileFilters-module__filterLabel___Hl-ye",K={userFileFilters:xu,headerFilterPanel:yu,filtersContent:Cu,searchSection:ju,filtersSection:Su,filterGroup:Nu,filterLabel:Lu},Fu=({filters:e,onFiltersChange:t,brands:s,categories:o})=>{const r=(c,d)=>{t({...e,[c]:d})},a=[{value:"all",label:"Все статусы"},{value:"pending",label:"На проверке"},{value:"approved",label:"Одобрено"},{value:"rejected",label:"Отклонено"}],i=[{value:"newest",label:"Сначала новые"},{value:"oldest",label:"Сначала старые"},{value:"downloads",label:"По популярности"},{value:"rating",label:"По рейтингу"}],l=[{value:"all",label:"Все марки"},...s.filter(c=>c&&c.name!=="all").sort((c,d)=>c.name.localeCompare(d.name)).map(c=>({value:c.name,label:c.name,logo:c.logo}))],m=[{value:"all",label:"Все категории"},...o.filter(c=>c&&c!=="all").map(c=>({value:c,label:c}))];return n.jsxs("div",{className:K.userFileFilters,children:[n.jsx("div",{className:K.headerFilterPanel,children:n.jsx("h2",{children:"Фильтры файлов"})}),n.jsxs("div",{className:K.filtersContent,children:[n.jsx("div",{className:K.searchSection,children:n.jsx(Zn,{value:e.searchQuery,placeholder:"Поиск...",onChange:c=>r("searchQuery",c)})}),n.jsxs("div",{className:K.filtersSection,children:[n.jsxs("div",{className:K.filterGroup,children:[n.jsx("label",{className:K.filterLabel,children:"Статус"}),n.jsx(wn,{options:a,value:e.status,onChange:c=>r("status",c)})]}),n.jsxs("div",{className:K.filterGroup,children:[n.jsx("label",{className:K.filterLabel,children:"Категория"}),n.jsx(Ad,{options:m,value:e.category,onChange:c=>r("category",c),searchPlaceholder:"Поиск категории...",maxHeight:350})]}),n.jsxs("div",{className:K.filterGroup,children:[n.jsx("label",{className:K.filterLabel,children:"Марка"}),n.jsx(vu,{options:l,value:e.brand,onChange:c=>r("brand",c),searchPlaceholder:"Поиск марки...",maxHeight:400})]}),n.jsxs("div",{className:K.filterGroup,children:[n.jsx("label",{className:K.filterLabel,children:"Сортировка"}),n.jsx(wn,{options:i,value:e.sortBy,onChange:c=>r("sortBy",c)})]})]})]})]})},Tu="UserFileUploadForm-module__userFileUploadForm___zt8Fj",Eu="UserFileUploadForm-module__formSection___-jEDu",Iu="UserFileUploadForm-module__formRow___aHvCj",$u="UserFileUploadForm-module__formGroup___I1BEW",Ru="UserFileUploadForm-module__fileInfo___y0RAs",Mu="UserFileUploadForm-module__errorMessage___q7ZIN",Du="UserFileUploadForm-module__formActions___5spsA",Ou="UserFileUploadForm-module__cancelButton___bfbhG",Bu="UserFileUploadForm-module__submitButton___SPBd3",G={userFileUploadForm:Tu,formSection:Eu,formRow:Iu,formGroup:$u,fileInfo:Ru,errorMessage:Mu,formActions:Du,cancelButton:Ou,submitButton:Bu},ku=({onSuccess:e,onCancel:t})=>{const[s,o]=b.useState({name:"",description:"",file:null,category:"Stage1",brand:"",model:"",engine:"",version:"1.0",fuelType:"Бензин",originalHorsepower:void 0,tunedHorsepower:void 0,originalTorque:void 0,tunedTorque:void 0,fuelConsumptionChange:"",requiredHardware:[],compatibilityNotes:"",changelog:"",supportedECUs:[],supportedYears:"",transmissionType:"",isEncrypted:!1,requiresUnlockCode:!1,recommendedTuningTools:[],knownIssues:"",installationInstructions:"",testedVehicles:[],author:"",isPublic:!0});b.useState("");const[r,a]=b.useState(!1),[i,l]=b.useState(null),m=Qn(),c=g=>{const{name:w,value:h,type:p}=g.target;if(p==="checkbox"){const _=g.target.checked;o(v=>({...v,[w]:_}))}else o(p==="number"?_=>({..._,[w]:h?Number(h):void 0}):_=>({..._,[w]:h}))},d=g=>{g.target.files&&g.target.files[0]&&o(w=>({...w,file:g.target.files[0]}))},f=async g=>{if(g.preventDefault(),l(null),!s.file){l("Пожалуйста, выберите файл прошивки");return}if(s.file.size>10*1024*1024){l("Размер файла не должен превышать 10MB");return}a(!0);try{setTimeout(()=>{const w={id:Math.floor(Math.random()*1e3),...s,fileName:s.file.name,uploadDate:new Date,fileSize:Math.round(s.file.size/1024/1024*100)/100,downloadCount:0,rating:0,status:"pending",horsepowerGain:s.tunedHorsepower&&s.originalHorsepower?s.tunedHorsepower-s.originalHorsepower:void 0,torqueGain:s.tunedTorque&&s.originalTorque?s.tunedTorque-s.originalTorque:void 0};e(w),a(!1)},1e3)}catch(w){l("Ошибка при загрузке файла"),a(!1),console.error("Error uploading file:",w)}};return n.jsxs("div",{className:G.userFileUploadForm,children:[n.jsx("h2",{children:"Загрузка нового файла"}),i&&n.jsx("div",{className:G.errorMessage,children:i}),n.jsxs("form",{onSubmit:f,children:[n.jsxs("div",{className:G.formSection,children:[n.jsx("h3",{children:"Основная информация"}),n.jsxs("div",{className:G.formRow,children:[n.jsxs("div",{className:G.formGroup,children:[n.jsx("label",{htmlFor:"name",children:"Название файла *"}),n.jsx("input",{type:"text",id:"name",name:"name",value:s.name,onChange:c,required:!0})]}),n.jsxs("div",{className:G.formGroup,children:[n.jsx("label",{htmlFor:"version",children:"Версия *"}),n.jsx("input",{type:"text",id:"version",name:"version",value:s.version,onChange:c,required:!0})]})]}),n.jsxs("div",{className:G.formGroup,children:[n.jsx("label",{htmlFor:"description",children:"Описание *"}),n.jsx("textarea",{id:"description",name:"description",value:s.description,onChange:c,rows:3,required:!0})]}),n.jsxs("div",{className:G.formRow,children:[n.jsxs("div",{className:G.formGroup,children:[n.jsx("label",{htmlFor:"brand",children:"Марка автомобиля *"}),n.jsx("input",{type:"text",id:"brand",name:"brand",value:s.brand,onChange:c,required:!0})]}),n.jsxs("div",{className:G.formGroup,children:[n.jsx("label",{htmlFor:"model",children:"Модель *"}),n.jsx("input",{type:"text",id:"model",name:"model",value:s.model,onChange:c,required:!0})]})]}),n.jsxs("div",{className:G.formRow,children:[n.jsxs("div",{className:G.formGroup,children:[n.jsx("label",{htmlFor:"engine",children:"Двигатель *"}),n.jsx("input",{type:"text",id:"engine",name:"engine",value:s.engine,onChange:c,required:!0})]}),n.jsxs("div",{className:G.formGroup,children:[n.jsx("label",{htmlFor:"category",children:"Категория *"}),n.jsx("select",{id:"category",name:"category",value:s.category,onChange:c,required:!0,children:m.map(g=>n.jsx("option",{value:g,children:g},g))})]})]})]}),n.jsxs("div",{className:G.formSection,children:[n.jsx("h3",{children:"Файл прошивки"}),n.jsxs("div",{className:G.formGroup,children:[n.jsx("label",{htmlFor:"file",children:"Файл прошивки *"}),n.jsx("input",{type:"file",id:"file",name:"file",onChange:d,accept:".bin,.hex,.mot,.s19",required:!0}),n.jsx("div",{className:G.fileInfo,children:s.file?s.file.name:"Файл не выбран"})]})]}),n.jsxs("div",{className:G.formActions,children:[n.jsx("button",{type:"button",onClick:t,className:G.cancelButton,disabled:r,children:"Отмена"}),n.jsx("button",{type:"submit",className:G.submitButton,disabled:r,children:r?"Загрузка...":"Загрузить файл"})]})]})]})},Pu="FileStatusBadge-module__statusBadgeContainer___kKMpY",Gu="FileStatusBadge-module__statusBadge___YBAP4",Au="FileStatusBadge-module__pending___ZC-v3",Hu="FileStatusBadge-module__approved___7t9y2",Uu="FileStatusBadge-module__rejected___dRlJO",Vu="FileStatusBadge-module__tooltipContainer___YUmCU",qu="FileStatusBadge-module__tooltipIcon___1xEA-",zu="FileStatusBadge-module__tooltip___GnstS",Wu="FileStatusBadge-module__tooltipContent___C4fHf",ie={statusBadgeContainer:Pu,statusBadge:Gu,pending:Au,approved:Hu,rejected:Uu,tooltipContainer:Vu,tooltipIcon:qu,tooltip:zu,tooltipContent:Wu},Ju=({status:e,rejectionReason:t})=>{const[s,o]=b.useState(!1),a=(i=>{switch(i){case"pending":return{label:"На проверке",className:ie.pending};case"approved":return{label:"Одобрено",className:ie.approved};case"rejected":return{label:"Отклонено",className:ie.rejected};default:return{label:i,className:ie.pending}}})(e);return n.jsxs("div",{className:ie.statusBadgeContainer,children:[n.jsx("span",{className:`${ie.statusBadge} ${a.className}`,children:a.label}),e==="rejected"&&t&&n.jsxs("div",{className:ie.tooltipContainer,children:[n.jsx(T,{icon:dr,className:ie.tooltipIcon,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1)}),s&&n.jsx("div",{className:ie.tooltip,children:n.jsxs("div",{className:ie.tooltipContent,children:[n.jsx("strong",{children:"Причина отказа:"}),n.jsx("p",{children:t})]})})]})]})},Xu="UserFileCard-module__userFileCard___X1hN-",Ku="UserFileCard-module__actions___rvhqP",Qu="UserFileCard-module__cardHeader___GPU2d",Yu="UserFileCard-module__fileInfo___-DUON",Zu="UserFileCard-module__fileName___yGVEC",em="UserFileCard-module__statusContainer___qU8N6",tm="UserFileCard-module__fileMeta___2NWvh",nm="UserFileCard-module__version___d4-vB",sm="UserFileCard-module__fileSize___ipDYx",om="UserFileCard-module__cardContent___t2nqh",rm="UserFileCard-module__description___RH5jB",am="UserFileCard-module__vehicleInfo___ezMTT",im="UserFileCard-module__brandModel___8kNXQ",lm="UserFileCard-module__engine___j9Q3D",cm="UserFileCard-module__category___LXTur",dm="UserFileCard-module__performanceStats___sfp5x",um="UserFileCard-module__performanceStat___QM9m0",mm="UserFileCard-module__statLabel___-HuXg",hm="UserFileCard-module__statValue___DjvYW",_m="UserFileCard-module__cardFooter___w1Rly",pm="UserFileCard-module__footerMeta___Elhbr",gm="UserFileCard-module__stats___LkXWg",fm="UserFileCard-module__stat___aFN1h",bm="UserFileCard-module__dates___zDRoG",wm="UserFileCard-module__dateItem___mbk1H",vm="UserFileCard-module__dateIcon___EhylF",xm="UserFileCard-module__downloadButton___PWl1U",ym="UserFileCard-module__detailsButton___wW-CP",Cm="UserFileCard-module__buttonIcon___NpE-1",$={userFileCard:Xu,actions:Ku,cardHeader:Qu,fileInfo:Yu,fileName:Zu,statusContainer:em,fileMeta:tm,version:nm,fileSize:sm,cardContent:om,description:rm,vehicleInfo:am,brandModel:im,engine:lm,category:cm,performanceStats:dm,performanceStat:um,statLabel:mm,statValue:hm,cardFooter:_m,footerMeta:pm,stats:gm,stat:fm,dates:bm,dateItem:wm,dateIcon:vm,downloadButton:xm,detailsButton:ym,buttonIcon:Cm},es=b.memo(({file:e,onDownload:t})=>{const s=r=>`${r} MB`,o=r=>new Date(r).toLocaleDateString("ru-RU");return n.jsxs("div",{className:$.userFileCard,children:[n.jsxs("div",{className:$.cardHeader,children:[n.jsxs("div",{className:$.fileInfo,children:[n.jsx("h3",{className:$.fileName,children:e.name}),n.jsx("div",{className:$.statusContainer,children:n.jsx(Ju,{status:e.status,rejectionReason:e.rejectionReason})})]}),n.jsxs("div",{className:$.fileMeta,children:[n.jsxs("span",{className:$.version,children:["v",e.version]}),n.jsx("span",{className:$.fileSize,children:s(e.fileSize)})]})]}),n.jsxs("div",{className:$.cardContent,children:[n.jsx("p",{className:$.description,children:e.description}),n.jsxs("div",{className:$.vehicleInfo,children:[n.jsxs("span",{className:$.brandModel,children:[e.brand," ",e.model]}),n.jsx("span",{className:$.engine,children:e.engine}),n.jsx("span",{className:$.category,children:e.category})]})]}),n.jsxs("div",{className:$.cardFooter,children:[n.jsxs("div",{className:$.footerMeta,children:[n.jsx("div",{className:$.stats,children:n.jsxs("div",{className:$.stat,children:[n.jsxs("span",{className:$.statValue,children:["★ ",e.rating]}),n.jsxs("span",{className:$.statValue,children:["📥 ",e.downloadCount]})]})}),n.jsxs("div",{className:$.dates,children:[n.jsxs("div",{className:$.dateItem,children:[n.jsx(T,{icon:ir,className:$.dateIcon}),n.jsx("span",{children:o(e.uploadDate)})]}),e.statusUpdateDate&&n.jsxs("div",{className:$.dateItem,children:[n.jsx(T,{icon:ur,className:$.dateIcon}),n.jsx("span",{children:o(e.statusUpdateDate)})]})]})]}),n.jsxs("div",{className:$.actions,children:[e.status==="approved"&&n.jsxs("button",{className:$.downloadButton,onClick:()=>t(e.id),children:[n.jsx(T,{icon:lr,className:$.buttonIcon}),"Скачать"]}),n.jsxs("button",{className:$.detailsButton,children:[n.jsx(T,{icon:cr,className:$.buttonIcon}),"Подробнее"]})]})]})]})});es.displayName="UserFileCard";const jm="PaginatedFilesGrid-module__paginatedGrid___NoOhP",Sm="PaginatedFilesGrid-module__resultsHeader___9kEgZ",Nm="PaginatedFilesGrid-module__headerActions___XQ6fV",Lm="PaginatedFilesGrid-module__clearResults___fGOeN",Fm="PaginatedFilesGrid-module__uploadButton___v3JSD",Tm="PaginatedFilesGrid-module__resultsContent___4n5rD",Em="PaginatedFilesGrid-module__scrolling___yu5Fn",Im="PaginatedFilesGrid-module__fadeOverlay___kqjLO",$m="PaginatedFilesGrid-module__topFade___CQw-g",Rm="PaginatedFilesGrid-module__bottomFade___Ppdau",Mm="PaginatedFilesGrid-module__filesGrid___ANMq6",Dm="PaginatedFilesGrid-module__pagination___335Yy",Om="PaginatedFilesGrid-module__paginationButton___HoCeB",Bm="PaginatedFilesGrid-module__pageNumbers___6mF6C",km="PaginatedFilesGrid-module__pageButton___-Ax1G",Pm="PaginatedFilesGrid-module__active___s7DEp",Gm="PaginatedFilesGrid-module__ellipsis___kjXpj",Am="PaginatedFilesGrid-module__paginationInfo___YFjPo",Hm="PaginatedFilesGrid-module__loading___A6aTu",Um="PaginatedFilesGrid-module__spinner___nrh3g",Vm="PaginatedFilesGrid-module__spin___-ugH0",qm="PaginatedFilesGrid-module__noResults___edZa3",F={paginatedGrid:jm,resultsHeader:Sm,headerActions:Nm,clearResults:Lm,uploadButton:Fm,resultsContent:Tm,scrolling:Em,fadeOverlay:Im,topFade:$m,bottomFade:Rm,filesGrid:Mm,pagination:Dm,paginationButton:Om,pageNumbers:Bm,pageButton:km,active:Pm,ellipsis:Gm,paginationInfo:Am,loading:Hm,spinner:Um,spin:Vm,noResults:qm},zm=({files:e,onDownload:t,currentPage:s,pageSize:o,onPageChange:r,isLoading:a=!1,onClearAll:i,onUploadClick:l})=>{const m=b.useRef(null),[c,d]=b.useState(!1),[f,g]=b.useState(!1),w=Math.ceil(e.length/o),h=(s-1)*o,p=h+o,_=e.slice(h,p);b.useEffect(()=>{const y=()=>{if(m.current){const{scrollHeight:j,clientHeight:N}=m.current;d(j>N)}};return y(),window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[e,_]);const v=()=>{f||g(!0),clearTimeout(window.scrollTimeout),window.scrollTimeout=setTimeout(()=>{g(!1)},150)};return a?n.jsx("div",{className:F.paginatedGrid,children:n.jsxs("div",{className:F.loading,children:[n.jsx("div",{className:F.spinner}),n.jsx("p",{children:"Загрузка файлов..."})]})}):e.length===0?n.jsxs("div",{className:F.paginatedGrid,children:[n.jsxs("div",{className:F.resultsHeader,children:[n.jsx("h2",{children:"Мои файлы прошивок"}),n.jsxs("div",{className:F.headerActions,children:[i&&n.jsx("button",{className:F.clearResults,onClick:i,children:"Очистить фильтры"}),l&&n.jsx("button",{className:F.uploadButton,onClick:l,children:"Загрузить файл"})]})]}),n.jsx("div",{className:F.noResults,children:n.jsx("p",{children:"Файлы не найдены. Попробуйте изменить параметры поиска."})})]}):n.jsxs("div",{className:F.paginatedGrid,children:[n.jsxs("div",{className:F.resultsHeader,children:[n.jsx("h2",{children:"Мои файлы прошивок"}),n.jsxs("div",{className:F.headerActions,children:[l&&n.jsx("button",{className:F.uploadButton,onClick:l,children:"Загрузить файл"}),i&&n.jsx("button",{className:F.clearResults,onClick:i,children:"Очистить фильтры"})]})]}),n.jsxs("div",{className:`${F.resultsContent} ${c?F.hasScroll:F.noScroll} ${f?F.scrolling:""}`,ref:m,onScroll:v,children:[c&&n.jsx("div",{className:`${F.fadeOverlay} ${F.topFade}`}),n.jsx("div",{className:F.filesGrid,children:_.map(y=>n.jsx(es,{file:y,onDownload:t},y.id))}),c&&n.jsx("div",{className:`${F.fadeOverlay} ${F.bottomFade}`})]}),w>1&&n.jsxs("div",{className:F.pagination,children:[n.jsx("button",{disabled:s===1,onClick:()=>r(s-1),className:F.paginationButton,children:"← Назад"}),n.jsx("div",{className:F.pageNumbers,children:Array.from({length:w},(y,j)=>j+1).filter(y=>y===1||y===w||Math.abs(y-s)<=1).map((y,j,N)=>{const E=N[j-1];return E&&y-E>1?n.jsxs(he.Fragment,{children:[n.jsx("span",{className:F.ellipsis,children:"..."}),n.jsx("button",{onClick:()=>r(y),className:`${F.pageButton} ${s===y?F.active:""}`,children:y})]},`ellipsis-${y}`):n.jsx("button",{onClick:()=>r(y),className:`${F.pageButton} ${s===y?F.active:""}`,children:y},y)})}),n.jsx("button",{disabled:s===w,onClick:()=>r(s+1),className:F.paginationButton,children:"Вперед →"})]}),n.jsxs("div",{className:F.paginationInfo,children:["Показано ",h+1,"-",Math.min(p,e.length)," из ",e.length," файлов"]})]})},Wm=()=>{const[e,t]=b.useState([]),[s,o]=b.useState(!0),[r,a]=b.useState(null);b.useEffect(()=>{i()},[]);const i=async()=>{try{o(!0),setTimeout(()=>{t(Yn),o(!1)},1e3)}catch(d){a("Ошибка при загрузке файлов"),o(!1),console.error("Error loading user files:",d)}};return{files:e,isLoading:s,error:r,addFile:d=>{t(f=>[d,...f])},updateFile:(d,f)=>{t(g=>g.map(w=>w.id===d?{...w,...f}:w))},deleteFile:d=>{t(f=>f.filter(g=>g.id!==d))},refetch:i}},Jm="UserFilesPage-module__userFilesPage___QjI-D",Xm="UserFilesPage-module__contentLayout___NU-TE",Km="UserFilesPage-module__error___eql8X",Qm="UserFilesPage-module__modalOverlay___QFoxe",Ym="UserFilesPage-module__modalContent___iOedi",Zm="UserFilesPage-module__modalClose___CIrq0",Ne={userFilesPage:Jm,contentLayout:Xm,error:Km,modalOverlay:Qm,modalContent:Ym,modalClose:Zm},eh=()=>{const{files:e,isLoading:t,error:s,addFile:o}=Wm(),[r,a]=b.useState([]),[i,l]=b.useState(!1),[m,c]=b.useState(1),d=12,[f,g]=b.useState({searchQuery:"",status:"all",category:"all",brand:"all",sortBy:"newest"}),w=b.useMemo(()=>Xn,[]),h=b.useCallback((N,E)=>{let R=[...N];if(E.searchQuery){const L=E.searchQuery.toLowerCase();R=R.filter(B=>B.name.toLowerCase().includes(L)||B.description.toLowerCase().includes(L)||B.brand.toLowerCase().includes(L)||B.model.toLowerCase().includes(L)||B.engine.toLowerCase().includes(L))}switch(E.status!=="all"&&(R=R.filter(L=>L.status===E.status)),E.category!=="all"&&(R=R.filter(L=>L.category===E.category)),E.brand!=="all"&&(R=R.filter(L=>L.brand===E.brand)),E.sortBy){case"newest":R.sort((L,B)=>new Date(B.uploadDate).getTime()-new Date(L.uploadDate).getTime());break;case"oldest":R.sort((L,B)=>new Date(L.uploadDate).getTime()-new Date(B.uploadDate).getTime());break;case"downloads":R.sort((L,B)=>B.downloadCount-L.downloadCount);break;case"rating":R.sort((L,B)=>B.rating-L.rating);break}return R},[]);b.useEffect(()=>{const N=h(e,f);a(N),c(1)},[e,f,h]);const p=N=>{o(N),l(!1)},_=b.useCallback(N=>{alert(`Файл с ID ${N} будет скачан`)},[]),v=b.useCallback(N=>{c(N),window.scrollTo({top:0,behavior:"smooth"})},[]),y=b.useCallback(()=>{g({searchQuery:"",status:"all",category:"all",brand:"all",sortBy:"newest"})},[]),j=b.useMemo(()=>f.searchQuery!==""||f.status!=="all"||f.category!=="all"||f.brand!=="all",[f]);return n.jsxs("div",{className:Ne.userFilesPage,children:[n.jsxs("div",{className:Ne.contentLayout,children:[n.jsx(Fu,{filters:f,onFiltersChange:g,brands:w,categories:Oi()}),n.jsx(zm,{files:r,onDownload:_,currentPage:m,pageSize:d,onPageChange:v,isLoading:t,onClearAll:j?y:void 0,onUploadClick:()=>l(!0)})]}),s&&n.jsxs("div",{className:Ne.error,children:[n.jsx("p",{children:s}),n.jsx("button",{onClick:()=>window.location.reload(),children:"Попробовать снова"})]}),i&&n.jsx("div",{className:Ne.modalOverlay,children:n.jsxs("div",{className:Ne.modalContent,children:[n.jsx("button",{className:Ne.modalClose,onClick:()=>l(!1),children:"×"}),n.jsx(ku,{onSuccess:p,onCancel:()=>l(!1)})]})})]})},th=()=>n.jsx("div",{className:"page",children:n.jsx(Ce,{children:n.jsx(eh,{})})}),nh=()=>n.jsx(Ce,{children:"Messages Page - TODO"}),sh=()=>n.jsx(Ce,{children:n.jsx("div",{children:"Login Page - TODO"})}),oh=()=>n.jsx(Ce,{children:n.jsx("div",{children:"API Tester - TODO"})});const rh=()=>n.jsx(is,{children:n.jsx(Zo,{children:n.jsx(Hr,{children:n.jsx(aa,{children:n.jsxs(ls,{children:[n.jsx(ge,{path:"/login",element:n.jsx(sh,{})}),n.jsx(ge,{path:"/test-api",element:n.jsx(oh,{})}),n.jsx(ge,{path:"/",element:n.jsx(ya,{})}),n.jsx(ge,{path:"/profile",element:n.jsx(zc,{})}),n.jsx(ge,{path:"/catalog",element:n.jsx(qc,{})}),n.jsx(ge,{path:"/files",element:n.jsx(th,{})}),n.jsx(ge,{path:"/messages",element:n.jsx(nh,{})}),n.jsx(ge,{path:"*",element:n.jsx(cs,{to:"/",replace:!0})})]})})})})});wt.createRoot(document.getElementById("root")).render(n.jsx(he.StrictMode,{children:n.jsx(rh,{})}));
//# sourceMappingURL=index-6e740303.js.map
